{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Grade } from 'src/model/grade';\nlet StudentClassComponent = class StudentClassComponent {\n  constructor(route, ms, fb, as, ss, ts) {\n    this.route = route;\n    this.ms = ms;\n    this.fb = fb;\n    this.as = as;\n    this.ss = ss;\n    this.ts = ts;\n    this.class = new Grade();\n    this.i = 0;\n    this.stars = Array(5).fill(false);\n    this.rating = 0;\n  }\n  ngOnInit() {\n    this.loggedIn = this.ms.isLoggedIn();\n    this.id = this.route.snapshot.paramMap.get('userId');\n    this.groupId = this.route.snapshot.paramMap.get('groupId');\n    this.ts.getClassData(this.groupId).subscribe(data => {\n      this.class = data;\n      this.as.getGrade(this.class.groupGrad).subscribe(data => {\n        this.grade = data;\n        console.log(data);\n      }, error => {\n        console.log(error);\n      });\n      this.as.getSub(this.class.groupSub).subscribe(data => {\n        this.sub = data;\n        console.log(data);\n      }, error => {\n        console.log(error);\n      });\n      this.ss.getGroupRating(this.groupId).subscribe(data => {\n        var s = 0;\n        this.students = data;\n        for (let i = 0; i < this.students.length; i++) {\n          s = s + this.students[i].rating;\n        }\n        this.rating = s / this.students.length;\n        for (let j = 0; j < this.rating; j++) {\n          this.stars[j] = true;\n        }\n      }, error => {});\n    }, error => {\n      console.log(error);\n    });\n    this.ss.getStudentData(this.id, this.groupId).subscribe(data => {\n      this.stud = data;\n    }, error => {});\n  }\n  deleteStud(studId) {\n    this.ss.deleteStudent(studId).subscribe(data => {}, error => {});\n  }\n};\nStudentClassComponent = __decorate([Component({\n  selector: 'app-student-class',\n  templateUrl: './student-class.component.html',\n  styleUrls: ['./student-class.component.css']\n})], StudentClassComponent);\nexport { StudentClassComponent };","map":{"version":3,"mappings":"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","names":["Component","Grade","StudentClassComponent","constructor","route","ms","fb","as","ss","ts","Array","fill","ngOnInit","loggedIn","isLoggedIn","id","snapshot","paramMap","get","groupId","getClassData","subscribe","data","class","getGrade","groupGrad","grade","console","log","error","getSub","groupSub","sub","getGroupRating","s","students","i","length","rating","j","stars","getStudentData","stud","deleteStud","studId","deleteStudent","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/KO20422228/Documents/frontend-els/ELS_UI/src/app/student/student-class/student-class.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { Grade } from 'src/model/grade';\nimport { AdminServiceService } from '../../services/admin-service.service';\nimport { MainserviceService } from '../../services/mainservice.service';\nimport { StudentServiceService } from '../../services/student-service.service';\nimport { TrainerServiceService } from '../../services/trainer-service.service';\n\n@Component({\n  selector: 'app-student-class',\n  templateUrl: './student-class.component.html',\n  styleUrls: ['./student-class.component.css']\n})\nexport class StudentClassComponent implements OnInit{\n  public loggedIn:any;\n  public id:any;\n  public groupId:any;\n  public class:Grade=new Grade();\n  public grade:any;\n  public sub:any;\n  public stud:any;\n  public i=0;\n  public students:any;\n  public stars: boolean[] = Array(5).fill(false);\n  public rating=0;\n  \n  constructor(private route:ActivatedRoute,private ms:MainserviceService,private fb: FormBuilder,private as:AdminServiceService,private ss:StudentServiceService,private ts:TrainerServiceService){\n  \n  }\n  ngOnInit(): void {\n    this.loggedIn = this.ms.isLoggedIn();\n    this.id=this.route.snapshot.paramMap.get('userId');\n    this.groupId=this.route.snapshot.paramMap.get('groupId');\n    this.ts.getClassData(this.groupId).subscribe(\n      data=>{\n          this.class=data;\n          \n          this.as.getGrade(this.class.groupGrad).subscribe(\n            data=>{\n                 this.grade=data;\n                 console.log(data);\n            },\n            error=>{\n              console.log(error);\n            }\n          )\n\n          this.as.getSub(this.class.groupSub).subscribe(\n            data=>{\n              this.sub=data;\n              console.log(data);\n            },\n            error=>{\n              console.log(error)\n      \n            }\n          )\n\n          this.ss.getGroupRating(this.groupId).subscribe(\n            data=>{\n              var s=0;\n              this.students=data;\n             for(let i=0;i<this.students.length;i++){\n              s=s+this.students[i].rating;\n             }\n             this.rating=s/this.students.length;\n             for(let j=0;j<this.rating;j++){\n              this.stars[j]=true;\n             }\n             \n            },\n            error=>{\n      \n            }\n          )\n          \n      },\n      error=>{\n        console.log(error);\n      }\n    )\n\n    this.ss.getStudentData(this.id,this.groupId).subscribe(\n      data=>{\n        this.stud=data;\n      },\n      error=>{\n\n      }\n    )\n  }\n  \n  \n  deleteStud(studId:number){\n    this.ss.deleteStudent(studId).subscribe(\n      data=>{\n         \n      },\n      error=>{\n\n      }\n    )\n  }\n\n  \n  \n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}