{"ast":null,"code":"import { Validators, FormControl } from '@angular/forms';\nimport { Student } from '../../../model/student';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../services/mainservice.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../../services/admin-service.service\";\nimport * as i5 from \"../../../services/student-service.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"../student-dash/student-dash.component\";\nfunction StudentHomeComponent_div_1_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"li\")(2, \"input\", 17);\n    i0.ɵɵlistener(\"change\", function StudentHomeComponent_div_1_div_22_Template_input_change_2_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.onCheckboxChange($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const dat_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", dat_r3.subId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", dat_r3.subName, \" \");\n  }\n}\nfunction StudentHomeComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 1)(2, \"br\");\n    i0.ɵɵelementStart(3, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function StudentHomeComponent_div_1_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.getSub());\n    });\n    i0.ɵɵtext(4, \"Add Your Interests\\u00A0\");\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵelement(6, \"i\", 3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5)(9, \"div\", 6)(10, \"div\", 7)(11, \"h5\", 8)(12, \"b\");\n    i0.ɵɵtext(13, \"Choose your interests!!!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"span\");\n    i0.ɵɵtext(15, \" \\u00A0\");\n    i0.ɵɵelement(16, \"i\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"p\");\n    i0.ɵɵtext(18, \"Add 3 intersts of your choice\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 10)(20, \"form\", 11);\n    i0.ɵɵlistener(\"ngSubmit\", function StudentHomeComponent_div_1_Template_form_ngSubmit_20_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.submitForm());\n    });\n    i0.ɵɵelementStart(21, \"ul\", 12);\n    i0.ɵɵtemplate(22, StudentHomeComponent_div_1_div_22_Template, 5, 2, \"div\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"br\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 14)(25, \"button\", 15);\n    i0.ɵɵtext(26, \"Close\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 16);\n    i0.ɵɵtext(28, \"Add\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.form);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.subjects);\n  }\n}\nfunction StudentHomeComponent_div_2_div_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 22)(4, \"blockquote\", 23)(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"footer\", 24);\n    i0.ɵɵtext(8, \"Limit \");\n    i0.ɵɵelementStart(9, \"cite\", 25);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(11, \"br\");\n    i0.ɵɵelementStart(12, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function StudentHomeComponent_div_2_div_1_div_3_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const gr_r13 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r14.joinGroup(gr_r13.groupId));\n    });\n    i0.ɵɵtext(13, \"Join\\u00A0\");\n    i0.ɵɵelementStart(14, \"span\");\n    i0.ɵɵelement(15, \"i\", 27);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const gr_r13 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", gr_r13.groupName, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(gr_r13.groupDesc);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(gr_r13.groupLimit);\n  }\n}\nfunction StudentHomeComponent_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelementStart(2, \"div\", 18);\n    i0.ɵɵtemplate(3, StudentHomeComponent_div_2_div_1_div_3_Template, 16, 3, \"div\", 19);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r10.groups);\n  }\n}\nfunction StudentHomeComponent_div_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 28)(2, \"br\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StudentHomeComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, StudentHomeComponent_div_2_div_1_Template, 4, 1, \"div\", 0);\n    i0.ɵɵtemplate(2, StudentHomeComponent_div_2_div_2_Template, 3, 0, \"div\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.groups.length != 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.groups.length == 0);\n  }\n}\nexport class StudentHomeComponent {\n  constructor(route, ms, fb, as, ss, router) {\n    this.route = route;\n    this.ms = ms;\n    this.fb = fb;\n    this.as = as;\n    this.ss = ss;\n    this.router = router;\n    this.loggedIn = false;\n    this.msg = '';\n    this.btn = true;\n    this.arr = [\"abcd\", \"qrst\", \"qrstui\"];\n    this.msg1 = '';\n    this.stud = new Student();\n    this.Data = [{\n      name: 'Pear',\n      value: 'pear'\n    }, {\n      name: 'Plum',\n      value: 'plum'\n    }, {\n      name: 'Kiwi',\n      value: 'kiwi'\n    }, {\n      name: 'Apple',\n      value: 'apple'\n    }, {\n      name: 'Lime',\n      value: 'lime'\n    }];\n    this.form = this.fb.group({\n      checkArray: this.fb.array([], [Validators.maxLength(1)])\n    });\n  }\n  ngOnInit() {\n    this.loggedIn = this.ms.isLoggedIn();\n    this.id = this.route.snapshot.paramMap.get('userId');\n    this.ms.getInterest(this.id).subscribe(data => {\n      //  this.msg=data;\n      this.msg = data.test;\n    }, error => {\n      console.log(error);\n    });\n    this.ss.getSuggestions(this.id).subscribe(data => {\n      this.groups = data;\n      console.log(data);\n    }, error => {\n      this.msg1 = \"Empty\";\n    });\n  }\n  onCheckboxChange(e) {\n    const checkArray = this.form.get('checkArray');\n    if (e.target.checked) {\n      checkArray.push(new FormControl(e.target.value));\n    } else {\n      let i = 0;\n      checkArray.controls.forEach(item => {\n        if (item.value == e.target.value) {\n          checkArray.removeAt(i);\n          return;\n        }\n        i++;\n      });\n    }\n  }\n  submitForm() {\n    if (this.form.value.checkArray.length == 3) {\n      this.selectedItems = this.form.value.checkArray;\n      this.ms.saveInterest(this.selectedItems, this.id).subscribe(data => {\n        this.ngOnInit();\n      }, error => {});\n    } else {\n      alert(\"Enter 3 interests\");\n    }\n    console.log(this.form.value);\n  }\n  // checkSize(){\n  //   console.log(this.form.value.checkArray.length );\n  //   if(this.form.value.checkArray.length == 1){\n  //     this.btn=false;\n  //   }\n  //   alert(\"Only one interest\");\n  //   this.btn=true;\n  // }\n  getSub() {\n    this.as.getSubData().subscribe(data => {\n      this.subjects = Object.keys(data).map(e => data[e]);\n    }, error => {\n      console.log(error);\n    });\n  }\n  joinGroup(groupId) {\n    this.stud.groupId = groupId;\n    this.stud.userId = this.id;\n    this.ss.createStudent(this.stud).subscribe(data => {\n      this.router.navigate(['/studClass', this.id, groupId]);\n    }, error => {});\n  }\n}\nStudentHomeComponent.ɵfac = function StudentHomeComponent_Factory(t) {\n  return new (t || StudentHomeComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.MainserviceService), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.AdminServiceService), i0.ɵɵdirectiveInject(i5.StudentServiceService), i0.ɵɵdirectiveInject(i1.Router));\n};\nStudentHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StudentHomeComponent,\n  selectors: [[\"app-student-home\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [\"src\", \"assets/img/intersts.jpeg\", \"alt\", \"...\", 1, \"style=align-items-center;\", 2, \"height\", \"35%\", \"width\", \"40%\", \"margin-left\", \"30%\"], [\"type\", \"submit\", \"data-toggle\", \"modal\", \"data-target\", \"#addInterest\", 1, \"btn\", \"btn-lg\", \"btn-primary\", 2, \"margin-left\", \"40%\", 3, \"click\"], [1, \"fas\", \"fa-lg\", \"fa-heartbeat\", 2, \"color\", \"red\"], [\"id\", \"addInterest\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalCenterTitle\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLongTitle\", 1, \"modal-title\"], [1, \"fas\", \"fas\", \"fa-plus\", 2, \"color\", \"#0b29ab\"], [1, \"modal-body\"], [\"novalidate\", \"\", 3, \"formGroup\", \"ngSubmit\"], [1, \"checkbox-grid\"], [4, \"ngFor\", \"ngForOf\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-danger\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [\"type\", \"checkbox\", 3, \"value\", \"change\"], [1, \"card-deck\", 2, \"margin-left\", \"5%\"], [\"class\", \"card shadow-lg border-info mb-3\", \"style\", \"max-width: 18rem;\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"shadow-lg\", \"border-info\", \"mb-3\", 2, \"max-width\", \"18rem\"], [1, \"card-header\", \"bg-info\", \"border-info\"], [1, \"card-body\", \"bg-transparent\", \"border-info\"], [1, \"blockquote\", \"mb-0\"], [1, \"blockquote-footer\", \"bg-transparent\", \"border-info\"], [\"title\", \"Source Titl e\"], [\"type\", \"submit\", 1, \"btn\", \"bg-transparent\", \"border-dark\", 2, \"margin-left\", \"70%\", 3, \"click\"], [1, \"fas\", \"fa-sign-in-alt\", 2, \"color\", \"orange\"], [\"src\", \"assets/img/empty.jpg\", \"alt\", \"...\", 1, \"style=align-items-center;\", 2, \"height\", \"35%\", \"width\", \"40%\", \"margin-left\", \"30%\"]],\n  template: function StudentHomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-student-dash\");\n      i0.ɵɵtemplate(1, StudentHomeComponent_div_1_Template, 29, 2, \"div\", 0);\n      i0.ɵɵtemplate(2, StudentHomeComponent_div_2_Template, 3, 2, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.msg == \"Fail\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.msg == \"Success\");\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i6.NgForOf, i6.NgIf, i3.FormGroupDirective, i7.StudentDashComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","FormControl","Student","i0","StudentHomeComponent","constructor","route","ms","fb","as","ss","router","name","value","form","group","checkArray","array","maxLength","ngOnInit","loggedIn","isLoggedIn","id","snapshot","paramMap","get","getInterest","subscribe","data","msg","test","error","console","log","getSuggestions","groups","msg1","onCheckboxChange","e","target","checked","push","i","controls","forEach","item","removeAt","submitForm","length","selectedItems","saveInterest","alert","getSub","getSubData","subjects","Object","keys","map","joinGroup","groupId","stud","userId","createStudent","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/KO20422228/Documents/frontend-els/ELS_UI/src/app/student/student-home/student-home.component.ts","/Users/KO20422228/Documents/frontend-els/ELS_UI/src/app/student/student-home/student-home.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators, FormGroup, FormArray, FormControl } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AdminServiceService } from '../../../services/admin-service.service';\nimport { MainserviceService } from '../../../services/mainservice.service';\nimport { Student } from '../../../model/student';\nimport { StudentServiceService } from '../../../services/student-service.service';\n\n@Component({\n  selector: 'app-student-home',\n  templateUrl: './student-home.component.html',\n  styleUrls: ['./student-home.component.css']\n})\nexport class StudentHomeComponent implements OnInit{\n\n  public loggedIn =false;\n  public id:any;\n  msg='';\n  btn:boolean=true;\n  arr =[\"abcd\",\"qrst\",\"qrstui\"];\n msg1='';\n public stud=new Student();\n  \n  subjects:any;\n  public groups:any;\n\n  constructor(private route:ActivatedRoute,private ms:MainserviceService,private fb: FormBuilder,private as:AdminServiceService,private ss:StudentServiceService,private router:Router){\n    this.form = this.fb.group({\n      checkArray: this.fb.array([], [Validators.maxLength(1)]),\n      \n    });\n\n    \n  }\n  \n  \n  ngOnInit(): void {\n    \n    this.loggedIn = this.ms.isLoggedIn();\n    this.id=this.route.snapshot.paramMap.get('userId');\n   \n    this.ms.getInterest(this.id).subscribe(\n\n      data=>{\n        //  this.msg=data;\n        \n        this.msg=data.test;\n      },\n      error=>{\n         console.log(error);\n      }\n      \n\n    )\n\n    this.ss.getSuggestions(this.id).subscribe(\n      data=>{\n         this.groups=data;\n         console.log(data);\n      },\n      error=>{\n       this.msg1=\"Empty\";\n      }\n    )\n\n    \n\n    \n  }\n   selectedItems!:any[];\n   \n  form: FormGroup;\n  Data: Array<any> = [\n    { name: 'Pear', value: 'pear' },\n    { name: 'Plum', value: 'plum' },\n    { name: 'Kiwi', value: 'kiwi' },\n    { name: 'Apple', value: 'apple' },\n    { name: 'Lime', value: 'lime' },\n  ];\n  \n  onCheckboxChange(e: any) {\n    const checkArray: FormArray = this.form.get('checkArray') as FormArray;\n\n    if (e.target.checked) {\n      checkArray.push(new FormControl(e.target.value));\n    } else {\n      let i: number = 0;\n     checkArray.controls.forEach((item: any) => {\n        if (item.value == e.target.value) {\n         checkArray.removeAt(i);\n        \n          return;\n        }\n        i++;\n      });\n    }\n  }\n  submitForm() {\n    if(this.form.value.checkArray.length==3){\n     this.selectedItems=this.form.value.checkArray;\n     this.ms.saveInterest(this.selectedItems,this.id).subscribe(\n      data=>{\n            this.ngOnInit();\n      },\n      error=>{\n\n      }\n     )\n    }\n    else{\n      alert(\"Enter 3 interests\");\n    }\n\n    console.log(this.form.value);\n  }\n\n  \n  // checkSize(){\n  //   console.log(this.form.value.checkArray.length );\n    \n  //   if(this.form.value.checkArray.length == 1){\n     \n  //     this.btn=false;\n  //   }\n  //   alert(\"Only one interest\");\n  //   this.btn=true;\n\n  // }\n  getSub(){\n    this.as.getSubData().subscribe(\n      data=>{\n        \n         this.subjects=Object.keys(data).map(e=>data[e]);\n      },\n      error=>{\n        console.log(error);\n      }\n    )\n  }\n\n  joinGroup(groupId:number){\n    this.stud.groupId=groupId;\n    this.stud.userId=this.id;\n    this.ss.createStudent(this.stud).subscribe(\n      data=>{\n        this.router.navigate(['/studClass',this.id,groupId]);\n      },\n      error=>{\n\n      }\n    )\n  }\n\n\n}\n","<app-student-dash></app-student-dash>\n\n\n<div *ngIf=\"msg == 'Fail'\">\n\n  <img class=\"style=align-items-center;\"  style=\"height: 35%;width:40%;margin-left: 30%;\"  src=\"assets/img/intersts.jpeg\"  alt=\"...\"  /><br>\n\n  <button type=\"submit\" style=\"margin-left: 40%\" class=\"btn btn-lg btn-primary\" (click)=\"getSub()\" data-toggle=\"modal\" data-target=\"#addInterest\">Add Your Interests&nbsp;<span><i class=\"fas fa-lg fa-heartbeat\" style=\"color:red\"></i></span></button>\n\n  <!----------------------------------------- Add Interest ----------------------------------------->\n  <div class=\"modal fade\" id=\"addInterest\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n       \n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLongTitle\"><b>Choose your interests!!!</b> <span> &nbsp;<i class=\"fas fas fa-plus\" style=\"color: #0b29ab;\"></i></span></h5>\n          <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button> -->\n          <p>Add 3 intersts of your choice</p>\n        </div>\n        <div class=\"modal-body\">\n            \n          <form [formGroup]=\"form\" (ngSubmit)=\"submitForm()\"   novalidate>\n            <ul class=\"checkbox-grid\">\n            <div  *ngFor=\"let dat of subjects; let i=index\">\n              \n              \n                <li><input type=\"checkbox\" [value]=\"dat.subId\"  (change)=\"onCheckboxChange($event)\" />\n                  <label>\n                {{dat.subName}}\n              </label></li>\n              \n            </div>\n          </ul>\n          <br>\n          \n         \n            <!-- <input type=\"submit\"  value=\"Submit\" > -->\n             \n          </form>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\">Close</button>\n          <button type=\"submit\" class=\"btn btn-primary\">Add</button>\n        </div>\n  \n    </div>\n    </div>\n    </div>\n    <!------------------------------------------ End Modal----------------------------------------------------->\n    </div>\n    <div *ngIf=\"msg == 'Success' \">\n      <div *ngIf=\"groups.length != 0\">\n        <br>\n        <div class=\"card-deck\" style=\"margin-left: 5%;\">\n       \n          <div  class=\"card shadow-lg border-info mb-3\" style=\"max-width: 18rem;\" *ngFor=\"let gr of groups\">\n              <div class=\"card-header bg-info border-info\">\n                {{gr.groupName}}\n              </div>\n              <div class=\"card-body bg-transparent border-info\">\n                <blockquote class=\"blockquote mb-0\">\n                  <p>{{gr.groupDesc}}</p>\n                  <footer class=\"blockquote-footer bg-transparent border-info\">Limit <cite title=\"Source Titl e\">{{gr.groupLimit}}</cite></footer>\n                </blockquote><br>\n                <button type=\"submit\" class=\"btn bg-transparent border-dark\" style=\"margin-left: 70%;\" (click)=\"joinGroup(gr.groupId)\">Join&nbsp;<span><i class=\"fas fa-sign-in-alt\" style=\"color:orange\"></i></span></button>\n\n              </div>\n              </div>\n              </div>\n      </div>\n      <div *ngIf=\"groups.length == 0\">\n\n        <img class=\"style=align-items-center;\"  style=\"height: 35%;width:40%;margin-left: 30%;\"  src=\"assets/img/empty.jpg\"  alt=\"...\"  /><br>\n      </div>\n\n      \n    </div>\n    \n\n\n \n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}