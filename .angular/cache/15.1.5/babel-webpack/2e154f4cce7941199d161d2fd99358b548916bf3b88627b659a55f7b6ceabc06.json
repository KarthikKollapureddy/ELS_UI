{"ast":null,"code":"import { FormControl, Validators } from '@angular/forms';\nimport { Group } from '../../../model/group';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/mainservice.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../services/admin-service.service\";\nimport * as i5 from \"../../services/trainer-service.service\";\nimport * as i6 from \"@angular/material/snack-bar\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"../trainer-dash/trainer-dash.component\";\nfunction TrainerHomeComponent_div_2_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"li\")(2, \"input\", 19);\n    i0.ɵɵlistener(\"change\", function TrainerHomeComponent_div_2_div_23_Template_input_change_2_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.onCheckboxChange($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const dat_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", dat_r3.subId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", dat_r3.subName, \" \");\n  }\n}\nfunction TrainerHomeComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 1)(2, \"br\");\n    i0.ɵɵelementStart(3, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function TrainerHomeComponent_div_2_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.getSub());\n    });\n    i0.ɵɵtext(4, \"Add Your Interests\\u00A0\");\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵelement(6, \"i\", 3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5)(9, \"div\", 6)(10, \"div\", 7)(11, \"h5\", 8)(12, \"b\");\n    i0.ɵɵtext(13, \"Choose your interests!!!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"span\");\n    i0.ɵɵtext(15, \" \\u00A0\");\n    i0.ɵɵelement(16, \"i\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"button\", 10)(18, \"span\", 11);\n    i0.ɵɵtext(19, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"div\", 12)(21, \"form\", 13);\n    i0.ɵɵlistener(\"ngSubmit\", function TrainerHomeComponent_div_2_Template_form_ngSubmit_21_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.submitForm());\n    });\n    i0.ɵɵelementStart(22, \"ul\", 14);\n    i0.ɵɵtemplate(23, TrainerHomeComponent_div_2_div_23_Template, 5, 2, \"div\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(24, \"br\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 16)(26, \"button\", 17);\n    i0.ɵɵtext(27, \"Close\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function TrainerHomeComponent_div_2_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.submitForm());\n    });\n    i0.ɵɵtext(29, \"Add\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelement(30, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.form);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.subjects);\n  }\n}\nfunction TrainerHomeComponent_div_3_option_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const grad_r14 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", grad_r14.gradId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(grad_r14.gradName);\n  }\n}\nfunction TrainerHomeComponent_div_3_option_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const sub_r15 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", sub_r15.subId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(sub_r15.subName);\n  }\n}\nfunction TrainerHomeComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 20)(2, \"br\")(3, \"br\");\n    i0.ɵɵelementStart(4, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function TrainerHomeComponent_div_3_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.getInfo());\n    });\n    i0.ɵɵtext(5, \"Creat Group\\u00A0\");\n    i0.ɵɵelementStart(6, \"span\");\n    i0.ɵɵelement(7, \"i\", 22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 23)(9, \"div\", 24)(10, \"div\", 25)(11, \"div\", 7)(12, \"h5\", 26);\n    i0.ɵɵtext(13, \"Group Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"button\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 28)(16, \"form\", 29, 30);\n    i0.ɵɵlistener(\"ngSubmit\", function TrainerHomeComponent_div_3_Template_form_ngSubmit_16_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.createGroup(ctx_r18.id));\n    });\n    i0.ɵɵelementStart(18, \"div\", 31)(19, \"label\", 32);\n    i0.ɵɵtext(20, \"Group Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"input\", 33);\n    i0.ɵɵlistener(\"ngModelChange\", function TrainerHomeComponent_div_3_Template_input_ngModelChange_21_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.gr.groupName = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 31)(23, \"label\", 32);\n    i0.ɵɵtext(24, \"Group Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"input\", 34);\n    i0.ɵɵlistener(\"ngModelChange\", function TrainerHomeComponent_div_3_Template_input_ngModelChange_25_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.gr.groupDesc = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"label\", 35);\n    i0.ɵɵtext(27, \"Group Grade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"select\", 36);\n    i0.ɵɵlistener(\"ngModelChange\", function TrainerHomeComponent_div_3_Template_select_ngModelChange_28_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.gr.groupGrad = $event);\n    });\n    i0.ɵɵelementStart(29, \"option\", 37);\n    i0.ɵɵtext(30, \"Select Grade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(31, TrainerHomeComponent_div_3_option_31_Template, 2, 2, \"option\", 38);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(32, \"br\");\n    i0.ɵɵelementStart(33, \"label\", 35);\n    i0.ɵɵtext(34, \"Group Subject\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"select\", 39);\n    i0.ɵɵlistener(\"ngModelChange\", function TrainerHomeComponent_div_3_Template_select_ngModelChange_35_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.gr.groupSub = $event);\n    });\n    i0.ɵɵelementStart(36, \"option\", 37);\n    i0.ɵɵtext(37, \"Select Subject\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(38, TrainerHomeComponent_div_3_option_38_Template, 2, 2, \"option\", 38);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(39, \"br\");\n    i0.ɵɵelementStart(40, \"div\", 31)(41, \"label\", 40);\n    i0.ɵɵtext(42, \"Group Limit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"input\", 41);\n    i0.ɵɵlistener(\"ngModelChange\", function TrainerHomeComponent_div_3_Template_input_ngModelChange_43_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.gr.groupLimit = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(44, \"button\", 42);\n    i0.ɵɵtext(45, \"Add\");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.gr.groupName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.gr.groupDesc);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.gr.groupGrad);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.grades);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.gr.groupSub);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.subjects);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.gr.groupLimit);\n  }\n}\nexport class TrainerHomeComponent {\n  constructor(router, route, ms, fb, as, ts, snackBar) {\n    this.router = router;\n    this.route = route;\n    this.ms = ms;\n    this.fb = fb;\n    this.as = as;\n    this.ts = ts;\n    this.snackBar = snackBar;\n    this.loggedIn = false;\n    this.msg = '';\n    this.btn = true;\n    this.arr = [\"abcd\", \"qrst\", \"qrstui\"];\n    this.gr = new Group();\n    this.durationInSeconds = 5;\n    this.horizontalPosition = 'right';\n    this.verticalPosition = 'top';\n    this.Data = [{\n      name: 'Pear',\n      value: 'pear'\n    }, {\n      name: 'Plum',\n      value: 'plum'\n    }, {\n      name: 'Kiwi',\n      value: 'kiwi'\n    }, {\n      name: 'Apple',\n      value: 'apple'\n    }, {\n      name: 'Lime',\n      value: 'lime'\n    }];\n    this.form = this.fb.group({\n      checkArray: this.fb.array([], [Validators.maxLength(1)])\n    });\n  }\n  ngOnInit() {\n    this.loggedIn = this.ms.isLoggedIn();\n    this.id = this.route.snapshot.paramMap.get('userId');\n    this.ms.getInterest(this.id).subscribe(data => {\n      //  this.msg=data;\n      this.msg = data.test;\n    }, error => {\n      console.log(error);\n    });\n  }\n  onCheckboxChange(e) {\n    const checkArray = this.form.get('checkArray');\n    if (e.target.checked) {\n      checkArray.push(new FormControl(e.target.value));\n    } else {\n      let i = 0;\n      checkArray.controls.forEach(item => {\n        if (item.value == e.target.value) {\n          checkArray.removeAt(i);\n          return;\n        }\n        i++;\n      });\n    }\n  }\n  submitForm() {\n    if (this.form.value.checkArray.length == 3) {\n      this.selectedItems = this.form.value.checkArray;\n      this.ms.saveInterest(this.selectedItems, this.id).subscribe(data => {}, error => {});\n    } else {\n      alert(\"Enter 3 interests\");\n    }\n    console.log(this.form.value);\n  }\n  // checkSize(){\n  //   console.log(this.form.value.checkArray.length );\n  //   if(this.form.value.checkArray.length == 1){\n  //     this.btn=false;\n  //   }\n  //   alert(\"Only one interest\");\n  //   this.btn=true;\n  // }\n  getSub() {\n    this.as.getSubData().subscribe(data => {\n      this.subjects = Object.keys(data).map(e => data[e]);\n    }, error => {\n      console.log(error);\n    });\n  }\n  createGroup(id) {\n    this.gr.trainerId = id;\n    this.ts.insertGroup(this.gr, id).subscribe(data => {\n      this.snackBar.open(\"Created successfully\", \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n      this.router.navigate(['/trainerGroup/:userId']);\n    }, error => {});\n    console.log(this.gr);\n  }\n  getInfo() {\n    this.getSub();\n    this.as.getGradData().subscribe(data => {\n      this.grades = data;\n    }, error => {\n      console.log(error);\n    });\n  }\n}\nTrainerHomeComponent.ɵfac = function TrainerHomeComponent_Factory(t) {\n  return new (t || TrainerHomeComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.MainserviceService), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.AdminServiceService), i0.ɵɵdirectiveInject(i5.TrainerServiceService), i0.ɵɵdirectiveInject(i6.MatSnackBar));\n};\nTrainerHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TrainerHomeComponent,\n  selectors: [[\"app-trainer-home\"]],\n  decls: 4,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [\"src\", \"assets/img/intersts.jpeg\", \"alt\", \"...\", 1, \"style=align-items-center;\", 2, \"height\", \"35%\", \"width\", \"40%\", \"margin-left\", \"30%\"], [\"type\", \"submit\", \"data-toggle\", \"modal\", \"data-target\", \"#addInterest\", 1, \"btn\", \"btn-lg\", \"btn-primary\", 2, \"margin-left\", \"40%\", 3, \"click\"], [1, \"fas\", \"fa-lg\", \"fa-heartbeat\", 2, \"color\", \"red\"], [\"id\", \"addInterest\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalCenterTitle\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLongTitle\", 1, \"modal-title\"], [1, \"fas\", \"fas\", \"fa-plus\", 2, \"color\", \"#0b29ab\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [\"novalidate\", \"\", 3, \"formGroup\", \"ngSubmit\"], [1, \"checkbox-grid\"], [4, \"ngFor\", \"ngForOf\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-danger\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"type\", \"checkbox\", 3, \"value\", \"change\"], [\"src\", \"assets/img/group.jpeg\", \"alt\", \"...\", 1, \"style=align-items-center;\", 2, \"height\", \"45%\", \"width\", \"50%\", \"margin-left\", \"30%\"], [\"type\", \"submit\", \"data-toggle\", \"modal\", \"data-target\", \"#addGroup\", 1, \"btn\", \"btn-lg\", \"btn-warning\", 2, \"margin-left\", \"50%\", 3, \"click\"], [1, \"fas\", \"fa-lg\", \"fa-users\", 2, \"color\", \"rgb(63, 85, 224)\"], [\"id\", \"addGroup\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel2\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"d-flex\", \"justify-content-center\"], [1, \"modal-content\", \"w-75\"], [\"id\", \"exampleModalLabel2\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\", \"p-4\"], [3, \"ngSubmit\"], [\"groupForm\", \"ngForm\"], [1, \"form-outline\", \"mb-4\"], [1, \"form-label\"], [\"name\", \"groupName\", \"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"groupDesc\", \"type\", \"textarea\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"name2\", 1, \"form-label\"], [\"name\", \"groupGrad\", \"aria-placeholder\", \"Choose your grade\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"undefined\", \"selected\", \"\", \"disabled\", \"\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"groupSub\", \"aria-placeholder\", \"Select your grade\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email2\", 1, \"form-label\"], [\"type\", \"number\", \"name\", \"groupLimit\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\"], [3, \"ngValue\"]],\n  template: function TrainerHomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-trainer-dash\")(1, \"br\");\n      i0.ɵɵtemplate(2, TrainerHomeComponent_div_2_Template, 31, 2, \"div\", 0);\n      i0.ɵɵtemplate(3, TrainerHomeComponent_div_3_Template, 46, 7, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.msg == \"Fail\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.msg == \"Success\");\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm, i7.NgForOf, i7.NgIf, i3.FormGroupDirective, i8.TrainerDashComponent],\n  styles: [\".checkbox-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n    display: block;\\n    float: left;\\n    width: 25%;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdHJhaW5lci90cmFpbmVyLWhvbWUvdHJhaW5lci1ob21lLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxjQUFjO0lBQ2QsV0FBVztJQUNYLFVBQVU7RUFDWiIsInNvdXJjZXNDb250ZW50IjpbIi5jaGVja2JveC1ncmlkIGxpIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBmbG9hdDogbGVmdDtcbiAgICB3aWR0aDogMjUlO1xuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","Validators","Group","i0","TrainerHomeComponent","constructor","router","route","ms","fb","as","ts","snackBar","name","value","form","group","checkArray","array","maxLength","ngOnInit","loggedIn","isLoggedIn","id","snapshot","paramMap","get","getInterest","subscribe","data","msg","test","error","console","log","onCheckboxChange","e","target","checked","push","i","controls","forEach","item","removeAt","submitForm","length","selectedItems","saveInterest","alert","getSub","getSubData","subjects","Object","keys","map","createGroup","gr","trainerId","insertGroup","open","duration","durationInSeconds","horizontalPosition","verticalPosition","navigate","getInfo","getGradData","grades","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/KO20422228/Documents/frontend-els/ELS_UI/src/app/trainer/trainer-home/trainer-home.component.ts","/Users/KO20422228/Documents/frontend-els/ELS_UI/src/app/trainer/trainer-home/trainer-home.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MatSnackBar, MatSnackBarHorizontalPosition, MatSnackBarVerticalPosition } from '@angular/material/snack-bar';\nimport { ActivatedRoute, Route, Router } from '@angular/router';\nimport { AdminServiceService } from '../../services/admin-service.service';\nimport { Group } from '../../../model/group';\nimport { MainserviceService } from '../../services/mainservice.service';\nimport { TrainerServiceService } from '../../services/trainer-service.service';\n\n@Component({\n  selector: 'app-trainer-home',\n  templateUrl: './trainer-home.component.html',\n  styleUrls: ['./trainer-home.component.css']\n})\nexport class TrainerHomeComponent implements OnInit{\n  public loggedIn =false;\n  public id:any;\n  msg='';\n  btn:boolean=true;\n  arr =[\"abcd\",\"qrst\",\"qrstui\"];\n  public gr=new Group();\n  \n  subjects : any;\n  grades : any;\n  durationInSeconds = 5;\n  horizontalPosition: MatSnackBarHorizontalPosition = 'right';\nverticalPosition: MatSnackBarVerticalPosition = 'top';\n\n  constructor(private router:Router,private route:ActivatedRoute,private ms:MainserviceService,private fb: FormBuilder,private as:AdminServiceService,private ts:TrainerServiceService,private snackBar:MatSnackBar){\n    this.form = this.fb.group({\n      checkArray: this.fb.array([], [Validators.maxLength(1)]),\n      \n    });\n\n    \n  }\n  \n  \n  ngOnInit(): void {\n    \n    this.loggedIn = this.ms.isLoggedIn();\n    this.id=this.route.snapshot.paramMap.get('userId');\n   \n    this.ms.getInterest(this.id).subscribe(\n\n      data=>{\n        //  this.msg=data;\n        \n        this.msg=data.test;\n      },\n      error=>{\n         console.log(error);\n      }\n      \n\n    )\n\n    \n  }\n   selectedItems!:any[];\n   \n  form: FormGroup;\n  Data: Array<any> = [\n    { name: 'Pear', value: 'pear' },\n    { name: 'Plum', value: 'plum' },\n    { name: 'Kiwi', value: 'kiwi' },\n    { name: 'Apple', value: 'apple' },\n    { name: 'Lime', value: 'lime' },\n  ];\n  \n  onCheckboxChange(e: any) {\n    const checkArray: FormArray = this.form.get('checkArray') as FormArray;\n\n    if (e.target.checked) {\n      checkArray.push(new FormControl(e.target.value));\n    } else {\n      let i: number = 0;\n     checkArray.controls.forEach((item: any) => {\n        if (item.value == e.target.value) {\n         checkArray.removeAt(i);\n        \n          return;\n        }\n        i++;\n      });\n    }\n  }\n  submitForm() {\n    if(this.form.value.checkArray.length==3){\n     this.selectedItems=this.form.value.checkArray;\n     this.ms.saveInterest(this.selectedItems,this.id).subscribe(\n      data=>{\n\n      },\n      error=>{\n\n      }\n     )\n    }\n    else{\n      alert(\"Enter 3 interests\");\n    }\n\n    console.log(this.form.value);\n  }\n\n  \n  // checkSize(){\n  //   console.log(this.form.value.checkArray.length );\n    \n  //   if(this.form.value.checkArray.length == 1){\n     \n  //     this.btn=false;\n  //   }\n  //   alert(\"Only one interest\");\n  //   this.btn=true;\n\n  // }\n  getSub(){\n    this.as.getSubData().subscribe(\n      data=>{\n        \n         this.subjects=Object.keys(data).map(e=>data[e]);\n      },\n      error=>{\n        console.log(error);\n      }\n    )\n  }\n\n  createGroup(id:number){\n   this.gr.trainerId=id;\n   this.ts.insertGroup(this.gr,id).subscribe(\n    data=>{\n      this.snackBar.open(\"Created successfully\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n        this.router.navigate(['/trainerGroup/:userId'])\n    },\n    error=>{\n      \n    }\n   )\n    console.log(this.gr)\n\n  }\n\n  getInfo(){\n    this.getSub();\n    this.as.getGradData().subscribe(\n      data=>{\n        this.grades=data;\n      },\n      error=>{\n        console.log(error);\n      }\n    )\n    \n  }\n\n}\n","\n<app-trainer-dash></app-trainer-dash>\n<br>\n<div *ngIf=\"msg == 'Fail'\">\n\n  <img class=\"style=align-items-center;\"  style=\"height: 35%;width:40%;margin-left: 30%;\"  src=\"assets/img/intersts.jpeg\"  alt=\"...\"  /><br>\n\n  <button type=\"submit\" style=\"margin-left: 40%\" class=\"btn btn-lg btn-primary\" (click)=\"getSub()\" data-toggle=\"modal\" data-target=\"#addInterest\">Add Your Interests&nbsp;<span><i class=\"fas fa-lg fa-heartbeat\" style=\"color:red\"></i></span></button>\n\n  <!----------------------------------------- Add Interest ----------------------------------------->\n  <div class=\"modal fade\" id=\"addInterest\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n       \n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLongTitle\"><b>Choose your interests!!!</b> <span> &nbsp;<i class=\"fas fas fa-plus\" style=\"color: #0b29ab;\"></i></span></h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n            \n          <form [formGroup]=\"form\" (ngSubmit)=\"submitForm()\"   novalidate>\n            <ul class=\"checkbox-grid\">\n            <div  *ngFor=\"let dat of subjects; let i=index\">\n              \n              \n                <li><input type=\"checkbox\" [value]=\"dat.subId\"  (change)=\"onCheckboxChange($event)\" />\n                  <label>\n                {{dat.subName}}\n              </label></li>\n              \n            </div>\n          </ul>\n          <br>\n          <!-- <mat-selection-list #subjects [(ngModel)]=\"selectedItems\">\n            <mat-list-option [value]=\"sub.subId\" *ngFor=\"let sub of subjects\">\n              {{sub.subName}}\n            </mat-list-option>\n          </mat-selection-list> -->\n         \n            <!-- <input type=\"submit\"  value=\"Submit\" > -->\n             \n          </form>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\">Close</button>\n          <button type=\"submit\" (click)=\"submitForm()\" class=\"btn btn-primary\">Add</button>\n        </div>\n  \n    </div>\n    </div>\n    </div>\n\n    <!------------------------------------End Modal------------------------------------------>\n    <br>\n</div>\n    <div   *ngIf=\"msg=='Success'\">\n      <img class=\"style=align-items-center;\"  style=\"height: 45%;width:50%;margin-left: 30%;\"  src=\"assets/img/group.jpeg\"  alt=\"...\"  /><br>\n    <br>\n\n  <button type=\"submit\" style=\"margin-left: 50%\" class=\"btn btn-lg btn-warning\" (click)=\"getInfo()\"  data-toggle=\"modal\" data-target=\"#addGroup\">Creat Group&nbsp;<span><i class=\"fas fa-lg fa-users\" style=\"color:rgb(63, 85, 224)\"></i></span></button>\n\n  <!-------------------------------------Group Modal----------------------------------------->\n  <div class=\"modal fade\" id=\"addGroup\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel2\" aria-hidden=\"true\">\n    <div class=\"modal-dialog d-flex justify-content-center\">\n        <div class=\"modal-content w-75\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"exampleModalLabel2\">Group Details</h5>\n                <button type=\"button\" class=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\n            </div>\n            <div class=\"modal-body p-4\">\n                <form  #groupForm=\"ngForm\" (ngSubmit)=\"createGroup(id)\">\n                    <!-- Name input -->\n                    <div class=\"form-outline mb-4\">\n                      <label class=\"form-label\" >Group Name</label>\n                        <input [(ngModel)]=\"gr.groupName\" name=\"groupName\" type=\"text\"  class=\"form-control\" />\n                    </div>\n                    <!-- Desc input -->\n                    <div class=\"form-outline mb-4\">\n                      <label class=\"form-label\" >Group Description</label>\n                      <input [(ngModel)]=\"gr.groupDesc\" name=\"groupDesc\" type=\"textarea\"  class=\"form-control\" />\n                  </div>\n\n                  <!-- Group grade -->\n                  <label class=\"form-label\" for=\"name2\">Group Grade</label>\n                  <select [(ngModel)]=\"gr.groupGrad\" class=\"form-control\" name=\"groupGrad\" aria-placeholder=\"Choose your grade\">\n                    <option value=\"undefined\" selected disabled>Select Grade</option>\n                    <option *ngFor=\"let grad of grades\" [ngValue]=\"grad.gradId\">{{grad.gradName}}</option>\n                </select>\n                  <br>\n                <!-- Group Subject-->\n                <label class=\"form-label\" for=\"name2\">Group Subject</label>\n                <select [(ngModel)]=\"gr.groupSub\" class=\"form-control\" name=\"groupSub\" aria-placeholder=\"Select your grade\">\n                  <option value=\"undefined\" selected disabled>Select Subject</option>\n                  <option *ngFor=\"let sub of subjects\" [ngValue]=\"sub.subId\">{{sub.subName}}</option>\n              </select>\n              <br>\n                    <!-- Limit input -->\n                    <div class=\"form-outline mb-4\">\n                      <label class=\"form-label\" for=\"email2\">Group Limit</label>\n                        <input type=\"number\" [(ngModel)]=\"gr.groupLimit\" name=\"groupLimit\" class=\"form-control\" />\n                    </div>\n\n                   \n\n                    <!-- Submit button -->\n                    <button type=\"submit\" class=\"btn btn-primary btn-block\">Add</button>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n<!------------------------------------------- End Modal  ----------------------------------->\n    </div>\n    \n    \n\n\n \n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}