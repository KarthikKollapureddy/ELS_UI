{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/mainservice.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/student-service.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../student-dash/student-dash.component\";\nfunction StudentFeedbackComponent_option_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const gr_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", gr_r3.groupId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(gr_r3.groupName);\n  }\n}\nfunction StudentFeedbackComponent_span_28_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 29);\n    i0.ɵɵtext(1, \" \\u2B50 \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction StudentFeedbackComponent_span_28_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\u2605\");\n  }\n}\nfunction StudentFeedbackComponent_span_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 26);\n    i0.ɵɵlistener(\"click\", function StudentFeedbackComponent_span_28_Template_span_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const i_r5 = restoredCtx.index;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.rate(i_r5 + 1));\n    });\n    i0.ɵɵtemplate(1, StudentFeedbackComponent_span_28_ng_container_1_Template, 2, 0, \"ng-container\", 27);\n    i0.ɵɵtemplate(2, StudentFeedbackComponent_span_28_ng_template_2_Template, 1, 0, \"ng-template\", null, 28, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const star_r4 = ctx.$implicit;\n    const _r7 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", star_r4)(\"ngIfElse\", _r7);\n  }\n}\nexport class StudentFeedbackComponent {\n  constructor(ms, route, ss) {\n    this.ms = ms;\n    this.route = route;\n    this.ss = ss;\n    this.loggedIn = false;\n    this.msg = '';\n    this.val = 0;\n    this.stars = Array(5).fill(false);\n  }\n  ngOnInit() {\n    this.loggedIn = this.ms.isLoggedIn();\n    this.id = this.route.snapshot.paramMap.get('userId');\n    this.ss.getGroupData(this.id).subscribe(data => {\n      this.groups = data;\n      console.log(this.groups);\n    }, error => {\n      this.msg = \"Empty\";\n    });\n  }\n  addRating() {\n    if (this.groupId == null || this.groupId == undefined || this.val == 0) {\n      alert(\"Fill\");\n    } else {\n      this.ss.addRate(this.id, this.groupId, this.val).subscribe(data => {}, error => {});\n    }\n  }\n  rate(rating) {\n    console.log('rating', rating);\n    this.stars = this.stars.map((_, i) => rating > i);\n    console.log('stars', this.stars);\n    this.val = rating;\n  }\n}\nStudentFeedbackComponent.ɵfac = function StudentFeedbackComponent_Factory(t) {\n  return new (t || StudentFeedbackComponent)(i0.ɵɵdirectiveInject(i1.MainserviceService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.StudentServiceService));\n};\nStudentFeedbackComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StudentFeedbackComponent,\n  selectors: [[\"app-student-feedback\"]],\n  decls: 32,\n  vars: 4,\n  consts: [[1, \"vh-100\", 2, \"background-color\", \"#f2f4df\"], [1, \"container\", \"py-5\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-60\"], [1, \"col\", \"col-xl-10\"], [1, \"card\", \"shadow-lg\", 2, \"border-radius\", \"1rem\", \"background-color\", \"rgb(113, 110, 110)\"], [1, \"row\", \"g-0\"], [1, \"col-md-5\", \"col-lg-5\", \"d-none\", \"d-md-block\"], [\"src\", \"assets/img/rating1.webp\", \"alt\", \"login form\", 1, \"img-fluid\", 2, \"border-radius\", \"1rem 0 0 1rem\", \"width\", \"400px\", \"height\", \"500px\"], [1, \"col-md-6\", \"col-lg-7\", \"d-flex\", \"align-items-center\"], [1, \"card-body\", \"p-4\", \"p-lg-5\", \"text-black\"], [3, \"ngSubmit\"], [\"changeform\", \"ngForm\"], [1, \"danger\"], [1, \"d-flex\", \"align-items-center\", \"mb-3\", \"pb-1\"], [1, \"fw-normal\", \"mb-3\", \"pb-3\", 2, \"letter-spacing\", \"1px\"], [1, \"far\", \"fa-smile\", \"fa-2x\", \"me-3\", 2, \"color\", \"#feee0a\"], [2, \"color\", \"azure\"], [1, \"form-outline\", \"mb-4\"], [\"name\", \"group\", \"aria-placeholder\", \"Choose your group\", 1, \"form-control\", \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"undefined\", \"selected\", \"\", \"disabled\", \"\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"form2Example17\", 1, \"form-label\", 2, \"color\", \"azure\"], [\"class\", \"sp\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"pt-1\", \"mb-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\"], [3, \"ngValue\"], [1, \"sp\", 3, \"click\"], [\"style\", \"font-size: large;\", 4, \"ngIf\", \"ngIfElse\"], [\"noStar\", \"\"], [2, \"font-size\", \"large\"]],\n  template: function StudentFeedbackComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-student-dash\");\n      i0.ɵɵelementStart(1, \"section\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"div\", 6);\n      i0.ɵɵelement(8, \"img\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 8)(10, \"div\", 9)(11, \"form\", 10, 11);\n      i0.ɵɵlistener(\"ngSubmit\", function StudentFeedbackComponent_Template_form_ngSubmit_11_listener() {\n        return ctx.addRating();\n      });\n      i0.ɵɵelementStart(13, \"small\", 12);\n      i0.ɵɵtext(14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 13)(16, \"h5\", 14);\n      i0.ɵɵelement(17, \"i\", 15);\n      i0.ɵɵelementStart(18, \"span\", 16);\n      i0.ɵɵtext(19, \"Rate your class\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(20, \"div\", 17)(21, \"select\", 18);\n      i0.ɵɵlistener(\"ngModelChange\", function StudentFeedbackComponent_Template_select_ngModelChange_21_listener($event) {\n        return ctx.groupId = $event;\n      });\n      i0.ɵɵelementStart(22, \"option\", 19);\n      i0.ɵɵtext(23, \"Select Group\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(24, StudentFeedbackComponent_option_24_Template, 2, 2, \"option\", 20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"p\");\n      i0.ɵɵelementStart(26, \"label\", 21);\n      i0.ɵɵtext(27, \"\\u00A0Select Group\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(28, StudentFeedbackComponent_span_28_Template, 4, 2, \"span\", 22);\n      i0.ɵɵelementStart(29, \"div\", 23)(30, \"button\", 24);\n      i0.ɵɵtext(31, \"Submit\");\n      i0.ɵɵelementEnd()()()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵtextInterpolate(ctx.msg);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.groupId);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.groups);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.stars);\n    }\n  },\n  dependencies: [i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm, i5.NgForOf, i5.NgIf, i6.StudentDashComponent],\n  styles: [\".sp[_ngcontent-%COMP%] {\\n    display: inline-block;\\n    cursor: pointer;\\n    line-height: 25px;\\n    text-align: center;\\n    width: 25px;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc3R1ZGVudC9zdHVkZW50LWZlZWRiYWNrL3N0dWRlbnQtZmVlZGJhY2suY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHFCQUFxQjtJQUNyQixlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixXQUFXO0VBQ2IiLCJzb3VyY2VzQ29udGVudCI6WyIuc3Age1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgbGluZS1oZWlnaHQ6IDI1cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHdpZHRoOiAyNXB4O1xuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","StudentFeedbackComponent","constructor","ms","route","ss","Array","fill","ngOnInit","loggedIn","isLoggedIn","id","snapshot","paramMap","get","getGroupData","subscribe","data","groups","console","log","error","msg","addRating","groupId","undefined","val","alert","addRate","rate","rating","stars","map","_","i","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/KO20422228/Documents/frontend-els/ELS_UI/src/app/student/student-feedback/student-feedback.component.html","/Users/KO20422228/Documents/frontend-els/ELS_UI/src/app/student/student-feedback/student-feedback.component.ts"],"sourcesContent":["<app-student-dash></app-student-dash>\n<section class=\"vh-100\" style=\"background-color: #f2f4df;\">\n    <div class=\"container py-5 h-100\">\n      <div class=\"row d-flex justify-content-center align-items-center h-60\">\n        <div class=\"col col-xl-10\">\n          <div class=\"card shadow-lg\" style=\"border-radius: 1rem;background-color: rgb(113, 110, 110);\">\n            <div class=\"row g-0\">\n              <div class=\"col-md-5 col-lg-5 d-none d-md-block\">\n                <img src=\"assets/img/rating1.webp\" alt=\"login form\" class=\"img-fluid\" style=\"border-radius: 1rem 0 0 1rem;width:400px;height:500px;\" />\n              </div>\n              <div class=\"col-md-6 col-lg-7 d-flex align-items-center\">\n                <div class=\"card-body p-4 p-lg-5 text-black\">\n  \n                  <form #changeform=\"ngForm\"  (ngSubmit)=\"addRating()\" > \n                    <small class=\"danger\">{{msg}}</small> \n    \n                    <div class=\"d-flex align-items-center mb-3 pb-1\">\n                      \n                      <h5 class=\"fw-normal mb-3 pb-3\" style=\"letter-spacing: 1px;\"><i class=\"far fa-smile fa-2x me-3\" style=\"color: #feee0a;\"></i><span style=\"color: azure;\">Rate your class</span></h5>\n                    </div>\n  \n                    \n  \n                    <div class=\"form-outline mb-4\">\n                        <select [(ngModel)]=\"groupId\" class=\"form-control\" name=\"group\" aria-placeholder=\"Choose your group\" class=\"form-control form-control\">\n                            <option value=\"undefined\" selected disabled>Select Group</option>\n                            <option *ngFor=\"let gr of groups\" [ngValue]=\"gr.groupId\">{{gr.groupName}}</option>\n                        </select>\n                        <p></p>\n                      <label class=\"form-label\" for=\"form2Example17\" style=\"color: azure;\">&nbsp;Select Group</label>\n                    \n                      \n                    \n                    </div>\n                    <span class=\"sp\"\n  *ngFor=\"let star of stars; let i = index\"\n  (click)=\"rate(i + 1)\"\n>\n  <ng-container *ngIf=\"star; else noStar\" style=\"font-size: large;\"> ⭐ </ng-container>\n  <ng-template #noStar>★</ng-template>\n</span>\n  \n                    \n\n                   \n\n                    \n                     \n  \n                    <div class=\"pt-1 mb-4\">\n                      <button  type=\"submit\" class=\"btn btn-success\">Submit</button>\n                    </div>\n  \n                    \n                    <!-- <a href=\"#!\" class=\"small text-muted\" style=\"color: black;\">Terms of use.</a>\n                    <a href=\"#!\" class=\"small text-muted\" style=\"color: black;\">Privacy policy</a> -->\n                  </form>\n  \n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, OnSameUrlNavigation } from '@angular/router';\nimport { MainserviceService } from '../../services/mainservice.service';\nimport { StudentServiceService } from '../../services/student-service.service';\n\n@Component({\n  selector: 'app-student-feedback',\n  templateUrl: './student-feedback.component.html',\n  styleUrls: ['./student-feedback.component.css']\n})\nexport class StudentFeedbackComponent implements OnInit {\n\n  public loggedIn =false;\n  public id:any;\n  public groups:any;\n  public msg='';\n  public groupId!:number;\n  public val=0;\n\n  constructor(private ms:MainserviceService,private route:ActivatedRoute,private ss:StudentServiceService){\n\n  }\n\n  ngOnInit(): void {\n    this.loggedIn = this.ms.isLoggedIn();\n    this.id=this.route.snapshot.paramMap.get('userId');\n    this.ss.getGroupData(this.id).subscribe(\n      data=>{\n        this.groups=data;\n        console.log(this.groups);\n      },\n      error=>{\n        this.msg=\"Empty\";\n      }\n    )\n  }\n\n  addRating(){\n    if(this.groupId == null  || this.groupId == undefined || this.val==0){\n      alert(\"Fill\");\n    }\n    else{\n      this.ss.addRate(this.id,this.groupId,this.val).subscribe(\n        data=>{\n\n        },\n        error=>{\n          \n        }\n      )\n    }\n\n  }\n  public stars: boolean[] = Array(5).fill(false);\n\n  public rate(rating: number) {\n    console.log('rating', rating);\n    this.stars = this.stars.map((_, i) => rating > i);\n    console.log('stars', this.stars);\n    this.val=rating;\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}