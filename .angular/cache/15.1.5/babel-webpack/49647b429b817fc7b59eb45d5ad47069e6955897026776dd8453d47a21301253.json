{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/mainservice.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class ChangePasswordComponent {\n  constructor(mainservice, route, router) {\n    this.mainservice = mainservice;\n    this.route = route;\n    this.router = router;\n    this.msg = '';\n  }\n  ngOnInit() {\n    this.id = this.route.snapshot.paramMap.get('userId');\n    let resp = this.mainservice.getUser(this.id);\n    resp.subscribe(data => this.user = data);\n  }\n  editPwd() {\n    this.msg = '';\n    if (this.pass == null || this.npwd == null || this.cpwd == null || this.pass == undefined || this.npwd == undefined || this.cpwd == undefined || this.pass == \"\" || this.npwd == \"\" || this.cpwd == \"\") {\n      alert(\"Please fill the details\");\n    }\n    if (this.user.pass == this.pass) {\n      if (this.npwd == this.cpwd) {\n        let res = this.mainservice.editPassword(this.npwd, this.id);\n        res.subscribe(data => this.nuser = data);\n        if (this.nuser.role == 1) {\n          this.router.navigate(['admin/', this.id]);\n        }\n        if (this.nuser.role == 2) {\n          this.router.navigate(['trainer/', this.id]);\n        }\n        if (this.nuser.role == 3) {\n          this.router.navigate(['student/', this.id]);\n        }\n      } else {\n        alert(\"Your new password does not match with confirm password!!!\");\n      }\n    } else {\n      console.log(\"exception occured...\");\n      this.msg = \"Please enter correct password...\";\n    }\n  }\n}\nChangePasswordComponent.ɵfac = function ChangePasswordComponent_Factory(t) {\n  return new (t || ChangePasswordComponent)(i0.ɵɵdirectiveInject(i1.MainserviceService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n};\nChangePasswordComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ChangePasswordComponent,\n  selectors: [[\"app-change-password\"]],\n  decls: 39,\n  vars: 4,\n  consts: [[1, \"vh-100\", 2, \"background-color\", \"#47b1cf\"], [1, \"container\", \"py-5\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-60\"], [1, \"col\", \"col-xl-10\"], [1, \"card\", 2, \"border-radius\", \"1rem\"], [1, \"row\", \"g-0\"], [1, \"col-md-5\", \"col-lg-5\", \"d-none\", \"d-md-block\"], [\"src\", \"assets/img/reset.jpeg\", \"alt\", \"login form\", 1, \"img-fluid\", 2, \"border-radius\", \"1rem 0 0 1rem\", \"width\", \"400px\", \"height\", \"500px\"], [1, \"col-md-6\", \"col-lg-7\", \"d-flex\", \"align-items-center\"], [1, \"card-body\", \"p-4\", \"p-lg-5\", \"text-black\"], [3, \"ngSubmit\"], [\"changeform\", \"ngForm\"], [1, \"danger\"], [1, \"d-flex\", \"align-items-center\", \"mb-3\", \"pb-1\"], [1, \"fas\", \"fa-key\", \"fa-2x\", \"me-3\", 2, \"color\", \"#a01515\"], [1, \"h1\", \"fw-bold\", \"mb-0\"], [1, \"fw-normal\", \"mb-3\", \"pb-3\", 2, \"letter-spacing\", \"1px\"], [1, \"form-outline\", \"mb-4\"], [\"name\", \"password\", \"type\", \"password\", \"required\", \"\", 1, \"form-control\", \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"form2Example17\", 1, \"form-label\"], [\"type\", \"password\", \"name\", \"npwd\", \"required\", \"\", 1, \"form-control\", \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"form2Example27\", 1, \"form-label\"], [\"type\", \"password\", \"name\", \"cpwd\", \"required\", \"\", 1, \"form-control\", \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"pt-1\", \"mb-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\"], [\"href\", \"#!\", 1, \"small\", \"text-muted\"]],\n  template: function ChangePasswordComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6);\n      i0.ɵɵelement(7, \"img\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 8)(9, \"div\", 9)(10, \"form\", 10, 11);\n      i0.ɵɵlistener(\"ngSubmit\", function ChangePasswordComponent_Template_form_ngSubmit_10_listener() {\n        return ctx.editPwd();\n      });\n      i0.ɵɵelementStart(12, \"small\", 12);\n      i0.ɵɵtext(13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 13);\n      i0.ɵɵelement(15, \"i\", 14);\n      i0.ɵɵelementStart(16, \"span\", 15);\n      i0.ɵɵtext(17, \"Change\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"h5\", 16);\n      i0.ɵɵtext(19, \"Change Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 17)(21, \"input\", 18);\n      i0.ɵɵlistener(\"ngModelChange\", function ChangePasswordComponent_Template_input_ngModelChange_21_listener($event) {\n        return ctx.pass = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"label\", 19);\n      i0.ɵɵtext(23, \"Current Password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"div\", 17)(25, \"input\", 20);\n      i0.ɵɵlistener(\"ngModelChange\", function ChangePasswordComponent_Template_input_ngModelChange_25_listener($event) {\n        return ctx.npwd = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"label\", 21);\n      i0.ɵɵtext(27, \"New Password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(28, \"div\", 17)(29, \"input\", 22);\n      i0.ɵɵlistener(\"ngModelChange\", function ChangePasswordComponent_Template_input_ngModelChange_29_listener($event) {\n        return ctx.cpwd = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"label\", 21);\n      i0.ɵɵtext(31, \"Confirm Password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(32, \"div\", 23)(33, \"button\", 24);\n      i0.ɵɵtext(34, \"Change\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(35, \"a\", 25);\n      i0.ɵɵtext(36, \"Terms of use.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"a\", 25);\n      i0.ɵɵtext(38, \"Privacy policy\");\n      i0.ɵɵelementEnd()()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(13);\n      i0.ɵɵtextInterpolate(ctx.msg);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.pass);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.npwd);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.cpwd);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["ChangePasswordComponent","constructor","mainservice","route","router","ngOnInit","id","snapshot","paramMap","get","resp","getUser","subscribe","data","user","editPwd","msg","pass","npwd","cpwd","undefined","alert","res","editPassword","nuser","role","navigate","console","log","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/KO20422228/Documents/frontend-els/ELS_UI/src/app/common/change-password/change-password.component.ts","/Users/KO20422228/Documents/frontend-els/ELS_UI/src/app/common/change-password/change-password.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MainserviceService } from '../../../services/mainservice.service';\n\n@Component({\n  selector: 'app-change-password',\n  templateUrl: './change-password.component.html',\n  styleUrls: ['./change-password.component.css']\n})\nexport class ChangePasswordComponent implements OnInit {\n\n  nuser:any;\n  user:any;\n   pass!:string;\n   npwd!:string;\n   msg='';\n   cpwd!:string;\n   public id:any;\n  constructor(private mainservice:MainserviceService,private route:ActivatedRoute,private router:Router) { }\n\n  \n  ngOnInit(): void {\n    this.id=this.route.snapshot.paramMap.get('userId');\n    let resp=this.mainservice.getUser(this.id);\n    resp.subscribe((data)=>this.user=data);\n  }\n\n  editPwd(){\n    this.msg='';\n    if(this.pass == null || this.npwd == null || this.cpwd == null || this.pass == undefined || this.npwd == undefined || this.cpwd == undefined || this.pass==\"\" ||this.npwd == \"\" || this.cpwd == \"\" ){\n      alert(\"Please fill the details\");\n    }\n    \n      if(this.user.pass == this.pass){\n        \n        if(this.npwd==this.cpwd){\n        let res=this.mainservice.editPassword(this.npwd,this.id!);\n        res.subscribe((data)=>this.nuser=data);\n        if(this.nuser.role == 1){\n        this.router.navigate(['admin/',this.id]);\n        }\n        if(this.nuser.role == 2){\n          this.router.navigate(['trainer/',this.id]);\n        }\n          if(this.nuser.role == 3){\n            this.router.navigate(['student/',this.id]);\n            }\n        }\n        else{\n          alert(\"Your new password does not match with confirm password!!!\")\n        }\n      }\n      else{\n        console.log(\"exception occured...\");\n        this.msg=\"Please enter correct password...\";\n      }\n    \n  }\n}\n","<section class=\"vh-100\" style=\"background-color: #47b1cf;\">\n    <div class=\"container py-5 h-100\">\n      <div class=\"row d-flex justify-content-center align-items-center h-60\">\n        <div class=\"col col-xl-10\">\n          <div class=\"card\" style=\"border-radius: 1rem;\">\n            <div class=\"row g-0\">\n              <div class=\"col-md-5 col-lg-5 d-none d-md-block\">\n                <img src=\"assets/img/reset.jpeg\" alt=\"login form\" class=\"img-fluid\" style=\"border-radius: 1rem 0 0 1rem;width:400px;height:500px;\" />\n              </div>\n              <div class=\"col-md-6 col-lg-7 d-flex align-items-center\">\n                <div class=\"card-body p-4 p-lg-5 text-black\">\n  \n                  <form #changeform=\"ngForm\"  (ngSubmit)=\"editPwd()\" > \n                    <small class=\"danger\">{{msg}}</small> \n    \n                    <div class=\"d-flex align-items-center mb-3 pb-1\">\n                      <i class=\"fas fa-key fa-2x me-3\" style=\"color: #a01515;\"></i>\n                      <span class=\"h1 fw-bold mb-0\">Change</span>\n                    </div>\n  \n                    <h5 class=\"fw-normal mb-3 pb-3\" style=\"letter-spacing: 1px;\">Change Password</h5>\n  \n                    <div class=\"form-outline mb-4\">\n                      <input [(ngModel)]=\"pass\" name=\"password\" class=\"form-control form-control\" type=\"password\"  required />\n                      \n                      <label class=\"form-label\" for=\"form2Example17\">Current Password</label>\n                    \n                      \n                    \n                    </div>\n                    \n  \n                    <div class=\"form-outline mb-4\">\n                      <input [(ngModel)]=\"npwd\" type=\"password\" name=\"npwd\" class=\"form-control form-control\"  required />\n                      \n                      <label class=\"form-label\" for=\"form2Example27\">New Password</label>\n                      \n                    </div>\n\n                   \n\n                    <div class=\"form-outline mb-4\">\n                        <input  type=\"password\" [(ngModel)]=\"cpwd\" name=\"cpwd\" class=\"form-control form-control\" required />\n                        \n                        <label class=\"form-label\" for=\"form2Example27\">Confirm Password</label>\n                        \n                      </div>\n                     \n  \n                    <div class=\"pt-1 mb-4\">\n                      <button  type=\"submit\" class=\"btn btn-success\">Change</button>\n                    </div>\n  \n                    \n                    <a href=\"#!\" class=\"small text-muted\">Terms of use.</a>\n                    <a href=\"#!\" class=\"small text-muted\">Privacy policy</a>\n                  </form>\n  \n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}