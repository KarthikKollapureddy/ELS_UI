{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Subject } from 'src/model/subject';\nlet AdminSubjectsComponent = class AdminSubjectsComponent {\n  constructor(route, ms, adminservice, router, snackBar) {\n    this.route = route;\n    this.ms = ms;\n    this.adminservice = adminservice;\n    this.router = router;\n    this.snackBar = snackBar;\n    this.loggedIn = false;\n    this.subjects = [];\n    this.msg = \"\";\n    this.image = \"\";\n    this.durationInSeconds = 5;\n    this.horizontalPosition = 'right';\n    this.verticalPosition = 'top';\n    this.i = 0;\n    this.id = this.route.snapshot.paramMap.get('userName');\n    this.sub = new Subject();\n  }\n  ngOnInit() {\n    this.loggedIn = this.ms.isLoggedIn();\n    this.adminservice.getSubData().subscribe(data => {\n      //   var myJsonString = JSON.stringify(data);\n      //   var myJsonObject = JSON.parse(myJsonString);\n      //   for (let index = 0; index < myJsonObject.length - 1; index++) {\n      //      var getGradName = myJsonObject[index].gradName;\n      //      var obj = {};\n      //      var myjsString = JSON.stringify(obj);\n      //      var myObject = JSON.parse(myjsString);\n      //      myObject.gradName = getGradName;\n      // }\n      this.subjects = data;\n      if (this.subjects.length != 0 || this.subjects == null) {\n        this.image = \"assets/img/empty.jpg\";\n      }\n      this.image = \"assets/img/grades.jpeg\";\n    }, error => {\n      this.image = \"assets/img/empty.jpg\";\n      this.msg = \"Empty\";\n      console.log(\"Not found\");\n    });\n  }\n  add() {\n    if (this.sub.subName === null || this.sub.subName === undefined || this.sub.subName === '') {\n      alert(\"Please enter required details\");\n    }\n    this.adminservice.addSub(this.sub).subscribe(data => {\n      console.log(\"response received....\");\n      // this.router.navigate(['adminSub',this.id]);\n      this.ngOnInit();\n      this.snackBar.open(\"Successfully added!!\", \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    }, error => {\n      console.log(\"error occured...\");\n      this.ngOnInit();\n      this.snackBar.open(\"This subject already exists !!Try with adding different subject\", \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    });\n  }\n  edit(subId) {\n    if (this.name === null || this.name === undefined || this.name === '') {\n      alert(\"Please enter required details\");\n    }\n    this.adminservice.editSubject(subId, this.name).subscribe(data => {\n      console.log(\"response received....\");\n      // this.router.navigate(['adminSub',this.id]);\n      // this.ngOnInit();\n      this.snackBar.open(\"Successfully added!!\", \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    }, error => {\n      console.log(\"error occured...\");\n      this.router.navigate(['adminSub', this.id]);\n      this.ngOnInit();\n      this.snackBar.open(error[\"error\"], \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    });\n  }\n  refresh() {\n    this.ngOnInit();\n  }\n  delete(subId) {\n    this.adminservice.deleteSubject(subId).subscribe(data => {\n      console.log(\"response received....\");\n      // this.ngOnInit();\n      this.snackBar.open(\"Successfully deleted!!\", \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    }, error => {\n      console.log(\"error occured...\");\n      this.ngOnInit();\n      this.snackBar.open(error[\"error\"], \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    });\n  }\n};\nAdminSubjectsComponent = __decorate([Component({\n  selector: 'app-admin-subjects',\n  templateUrl: './admin-subjects.component.html',\n  styleUrls: ['./admin-subjects.component.css']\n})], AdminSubjectsComponent);\nexport { AdminSubjectsComponent };","map":{"version":3,"mappings":"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","names":["Component","Subject","AdminSubjectsComponent","constructor","route","ms","adminservice","router","snackBar","snapshot","paramMap","get","ngOnInit","loggedIn","isLoggedIn","getSubData","subscribe","data","subjects","length","image","error","msg","console","log","add","sub","subName","undefined","alert","addSub","open","duration","durationInSeconds","horizontalPosition","verticalPosition","edit","subId","name","editSubject","navigate","id","refresh","delete","deleteSubject","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/KO20422228/Documents/frontend-els/ELS_UI/src/app/admin/admin-subjects/admin-subjects.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { MatSnackBarHorizontalPosition, MatSnackBarVerticalPosition, MatSnackBar } from '@angular/material/snack-bar';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Subject } from 'src/model/subject';\nimport { AdminServiceService } from '../../../services/admin-service.service';\nimport { MainserviceService } from '../../../services/mainservice.service';\n\n\n\n@Component({\n  selector: 'app-admin-subjects',\n  templateUrl: './admin-subjects.component.html',\n  styleUrls: ['./admin-subjects.component.css']\n})\nexport class AdminSubjectsComponent implements OnInit{\n  public loggedIn =false;\n  subjects:Subject[]=[];\n  msg =\"\";\n  image=\"\";\n  durationInSeconds = 5;\n  horizontalPosition: MatSnackBarHorizontalPosition = 'right';\nverticalPosition: MatSnackBarVerticalPosition = 'top';\n\n  constructor(private route:ActivatedRoute,private ms:MainserviceService,private adminservice:AdminServiceService,private router:Router,private snackBar: MatSnackBar){}\n\n  ngOnInit(): void {\n    this.loggedIn = this.ms.isLoggedIn();\n    this.adminservice.getSubData().subscribe(\n      data=>{\n      //   var myJsonString = JSON.stringify(data);\n      //   var myJsonObject = JSON.parse(myJsonString);\n      //   for (let index = 0; index < myJsonObject.length - 1; index++) {\n      //      var getGradName = myJsonObject[index].gradName;\n\n      //      var obj = {};\n      //      var myjsString = JSON.stringify(obj);\n      //      var myObject = JSON.parse(myjsString);\n      //      myObject.gradName = getGradName;\n          \n          \n      // }\n           this.subjects=data;\n           if(this.subjects.length != 0 || this.subjects == null){\n            this.image=\"assets/img/empty.jpg\"\n          }\n          this.image=\"assets/img/grades.jpeg\"\n      \n    },\n      error=>{\n        this.image=\"assets/img/empty.jpg\"\n       this.msg=\"Empty\";\n        console.log(\"Not found\");\n        \n        \n      }\n\n      \n\n    )\n   \n  }\n  i=0;\n  id=this.route.snapshot.paramMap.get('userName');\n\n sub =new Subject();\n name!:string;\n\n add(){\n  if(\n    this.sub.subName === null ||\n    \n    this.sub.subName === undefined ||\n    \n    this.sub.subName === ''){\n      alert(\"Please enter required details\");\n    }\n  this.adminservice.addSub(this.sub).subscribe(\n    data=>{\n      console.log(\"response received....\");\n      // this.router.navigate(['adminSub',this.id]);\n      this.ngOnInit();\n      this.snackBar.open(\"Successfully added!!\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n      \n    },\n    error=>{\n      console.log(\"error occured...\");\n      this.ngOnInit();\n      this.snackBar.open(\"This subject already exists !!Try with adding different subject\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n     \n      \n    }\n\n  )\n}\n\nedit(subId : number){\n  if(\n    this.name === null ||\n    \n    this.name === undefined ||\n    \n    this.name === ''){\n      alert(\"Please enter required details\");\n    }\n  this.adminservice.editSubject(subId,this.name).subscribe(\n    data=>{\n      console.log(\"response received....\");\n      // this.router.navigate(['adminSub',this.id]);\n      // this.ngOnInit();\n      this.snackBar.open(\"Successfully added!!\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n      \n    },\n    error=>{\n      console.log(\"error occured...\");\n      this.router.navigate(['adminSub',this.id]);\n      this.ngOnInit();\n      this.snackBar.open(error[\"error\"],\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n     \n      \n    }\n    \n\n  )\n}\nrefresh(){\n  this.ngOnInit();\n}\ndelete(subId : number){\n  \n  this.adminservice.deleteSubject(subId).subscribe(\n    data=>{\n      console.log(\"response received....\");\n      // this.ngOnInit();\n      this.snackBar.open(\"Successfully deleted!!\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n      \n    },\n    error=>{\n      console.log(\"error occured...\");\n      this.ngOnInit();\n      this.snackBar.open(error[\"error\"],\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n     \n      \n    }\n    \n\n  )\n}\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}