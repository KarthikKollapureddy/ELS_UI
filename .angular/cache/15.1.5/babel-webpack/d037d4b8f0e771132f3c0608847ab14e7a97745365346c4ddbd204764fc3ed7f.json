{"ast":null,"code":"import { Grade } from 'src/model/grade';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../services/mainservice.service\";\nimport * as i3 from \"../../../services/admin-service.service\";\nimport * as i4 from \"@angular/material/snack-bar\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"../admin-dash/admin-dash.component\";\nfunction AdminGradesComponent_tbody_51_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"th\", 28);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\", 29);\n    i0.ɵɵelement(9, \"i\", 30);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 31)(11, \"div\", 9)(12, \"div\", 10)(13, \"form\", 11, 32);\n    i0.ɵɵlistener(\"ngSubmit\", function AdminGradesComponent_tbody_51_Template_form_ngSubmit_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const grad_r2 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.edit(grad_r2.gradId));\n    });\n    i0.ɵɵelementStart(15, \"div\", 13)(16, \"h5\", 14)(17, \"b\");\n    i0.ɵɵtext(18, \"Edit your new grade!!!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"span\");\n    i0.ɵɵtext(20, \" \\u00A0\");\n    i0.ɵɵelement(21, \"i\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"button\", 16)(23, \"span\", 17);\n    i0.ɵɵtext(24, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(25, \"div\", 18)(26, \"div\", 19)(27, \"label\", 20);\n    i0.ɵɵtext(28, \"Grade Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"input\", 33);\n    i0.ɵɵlistener(\"ngModelChange\", function AdminGradesComponent_tbody_51_Template_input_ngModelChange_29_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.name = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(30, \"div\", 22)(31, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function AdminGradesComponent_tbody_51_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.refresh());\n    });\n    i0.ɵɵtext(32, \"Close\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"button\", 24);\n    i0.ɵɵtext(34, \"Edit\");\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(35, \"td\")(36, \"button\", 35);\n    i0.ɵɵelement(37, \"i\", 36);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"div\", 31)(39, \"div\", 9)(40, \"div\", 10)(41, \"div\", 13)(42, \"h5\", 14)(43, \"b\");\n    i0.ɵɵtext(44, \"Are you sure ?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"span\");\n    i0.ɵɵtext(46, \" \\u00A0\");\n    i0.ɵɵelement(47, \"i\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(48, \"button\", 16)(49, \"span\", 17);\n    i0.ɵɵtext(50, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(51, \"div\", 22)(52, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function AdminGradesComponent_tbody_51_Template_button_click_52_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.refresh());\n    });\n    i0.ɵɵtext(53, \"Close\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(54, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function AdminGradesComponent_tbody_51_Template_button_click_54_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const grad_r2 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.delete(grad_r2.gradId));\n    });\n    i0.ɵɵtext(55, \"Delete\");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    const grad_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(grad_r2.gradId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 8, grad_r2.gradName));\n    i0.ɵɵadvance(3);\n    i0.ɵɵattribute(\"data-target\", \"#\" + grad_r2.gradId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", grad_r2.gradId);\n    i0.ɵɵadvance(19);\n    i0.ɵɵpropertyInterpolate(\"value\", grad_r2.gradName);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.name);\n    i0.ɵɵadvance(7);\n    i0.ɵɵattribute(\"data-target\", \"#\" + grad_r2.gradName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", grad_r2.gradName);\n  }\n}\nexport class AdminGradesComponent {\n  constructor(route, ms, adminservice, router, snackBar) {\n    this.route = route;\n    this.ms = ms;\n    this.adminservice = adminservice;\n    this.router = router;\n    this.snackBar = snackBar;\n    this.loggedIn = false;\n    this.grades = [];\n    this.msg = \"\";\n    this.image = \"\";\n    this.durationInSeconds = 5;\n    this.horizontalPosition = 'right';\n    this.verticalPosition = 'top';\n    this.i = 0;\n    this.id = this.route.snapshot.paramMap.get('userName');\n    this.grad = new Grade();\n  }\n  ngOnInit() {\n    console.log(this.grades);\n    this.loggedIn = this.ms.isLoggedIn();\n    this.adminservice.getGradData().subscribe(data => {\n      //   var myJsonString = JSON.stringify(data);\n      //   var myJsonObject = JSON.parse(myJsonString);\n      //   for (let index = 0; index < myJsonObject.length - 1; index++) {\n      //      var getGradName = myJsonObject[index].gradName;\n      //      var obj = {};\n      //      var myjsString = JSON.stringify(obj);\n      //      var myObject = JSON.parse(myjsString);\n      //      myObject.gradName = getGradName;\n      // }\n      this.grades = data;\n      if (this.grades.length != 0 || this.grades == null) {\n        this.image = \"assets/img/empty.jpg\";\n      }\n      this.image = \"assets/img/grades.jpeg\";\n    }, error => {\n      this.image = \"assets/img/empty.jpg\";\n      console.log(\"Not found\");\n      this.msg = \"Empty\";\n    });\n  }\n  refresh() {\n    this.ngOnInit();\n  }\n  add() {\n    if (this.grad.gradName === null || this.grad.gradName === undefined || this.grad.gradName === '') {\n      alert(\"Please enter required details\");\n    }\n    this.adminservice.addGrade(this.grad).subscribe(data => {\n      console.log(\"response received....\");\n      // this.router.navigate(['adminGrad',this.id]);\n      this.image = \"assets/img/empty.jpg\";\n      this.ngOnInit();\n      this.snackBar.open(\"Successfully added!!\", \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    }, error => {\n      console.log(\"error occured...\");\n      this.ngOnInit();\n      this.snackBar.open(\"This grade already exists !!Try with adding different grade\", \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    });\n  }\n  edit(gradId) {\n    if (this.name === null || this.name === undefined || this.name === '') {\n      alert(\"Please enter required details\");\n    }\n    this.adminservice.editGrade(gradId, this.name).subscribe(data => {\n      console.log(\"response received....\");\n      //this.router.navigate(['adminGrad',this.id]);\n      // this.ngOnInit();\n      this.snackBar.open(\"Successfully added!!\", \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    }, error => {\n      console.log(\"error occured...\");\n      this.router.navigate(['adminGrad', this.id]);\n      this.ngOnInit();\n      this.snackBar.open(\"This grade already exists !!Try with adding different grade\", \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    });\n  }\n  // delete(gradId : number){\n  //   this.adminservice.deleteGrade(gradId).subscribe(\n  //     data=>{\n  //       console.log(\"response received....\");\n  //       // this.ngOnInit();\n  //       this.snackBar.open(\"Successfully deleted!!\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n  //         verticalPosition: this.verticalPosition})\n  //     },\n  //     error=>{\n  //       console.log(\"error occured...\");\n  //       this.ngOnInit();\n  //       this.snackBar.open(\"Problem occured!\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n  //         verticalPosition: this.verticalPosition})\n  //     }\n  //   )\n  // }\n  delete(gradId) {\n    this.adminservice.deleteGrade(gradId).subscribe(data => {\n      this.ngOnInit();\n      console.log(\"response received....\");\n      this.snackBar.open(data[\"message\"], \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    }, error => {\n      this.ngOnInit();\n      console.log(error[\"error\"]);\n      this.snackBar.open(error[\"error\"], \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    });\n  }\n}\nAdminGradesComponent.ɵfac = function AdminGradesComponent_Factory(t) {\n  return new (t || AdminGradesComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.MainserviceService), i0.ɵɵdirectiveInject(i3.AdminServiceService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i4.MatSnackBar));\n};\nAdminGradesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AdminGradesComponent,\n  selectors: [[\"app-admin-grades\"]],\n  decls: 52,\n  vars: 3,\n  consts: [[1, \"container-fluid\"], [1, \"d-flex\", \"flex-lg-row\"], [1, \"p-2\"], [\"alt\", \"...\", 2, \"width\", \"100%\", \"height\", \"100%\", 3, \"src\"], [1, \"card\", \"w-100\", \"shadow-lg\", \"p-3\", \"mb-5\", \"bg-white\", \"rounded\"], [1, \"card-body\"], [1, \"card-text\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#addGrade\", 1, \"btn\", \"btn-success\"], [\"id\", \"addGrade\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalCenterTitle\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [3, \"ngSubmit\"], [\"gradform\", \"ngForm\"], [1, \"modal-header\"], [\"id\", \"exampleModalLongTitle\", 1, \"modal-title\"], [1, \"fas\", \"fas\", \"fa-chalkboard\", 2, \"color\", \"#0b29ab\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"form-outline\", \"mb-2\"], [1, \"form-label\"], [\"name\", \"gradName\", \"type\", \"text\", \"aria-required\", \"\", 1, \"form-control\", \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-warning\"], [\"type\", \"submit\", 1, \"btn\", \"btn-secondary\"], [1, \"table\", \"table-striped\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"scope\", \"row\"], [\"type\", \"submit\", \"data-toggle\", \"modal\", 1, \"btn\", \"btn-warning\"], [1, \"fas\", \"fas\", \"fa-marker\", 2, \"color\", \"#0a0a0a\"], [\"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalCenterTitle\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\", 3, \"id\"], [\"editForm\", \"ngForm\"], [\"name\", \"name\", \"type\", \"text\", \"autocomplete\", \"off\", \"aria-required\", \"\", 1, \"form-control\", \"form-control\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-warning\", 3, \"click\"], [\"type\", \"submit\", \"data-toggle\", \"modal\", 1, \"btn\", \"btn-danger\"], [1, \"fas\", \"fas\", \"fa-trash\", 2, \"color\", \"#0a0a0a\"], [\"type\", \"submit\", 1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function AdminGradesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-admin-dash\");\n      i0.ɵɵelementStart(1, \"div\", 0);\n      i0.ɵɵelement(2, \"br\");\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"div\");\n      i0.ɵɵelement(6, \"img\", 3);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(7, \"span\");\n      i0.ɵɵelementStart(8, \"div\", 2)(9, \"div\", 4)(10, \"div\", 5)(11, \"h5\", 6);\n      i0.ɵɵtext(12, \"Click here to add grades\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"button\", 7);\n      i0.ɵɵtext(14, \" Add \");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(15, \"div\", 8)(16, \"div\", 9)(17, \"div\", 10)(18, \"form\", 11, 12);\n      i0.ɵɵlistener(\"ngSubmit\", function AdminGradesComponent_Template_form_ngSubmit_18_listener() {\n        return ctx.add();\n      });\n      i0.ɵɵelementStart(20, \"div\", 13)(21, \"h5\", 14)(22, \"b\");\n      i0.ɵɵtext(23, \"Enter your new grade!!!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"span\");\n      i0.ɵɵtext(25, \" \\u00A0\");\n      i0.ɵɵelement(26, \"i\", 15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"button\", 16)(28, \"span\", 17);\n      i0.ɵɵtext(29, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(30, \"div\", 18)(31, \"div\", 19)(32, \"label\", 20);\n      i0.ɵɵtext(33, \"Grade Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"input\", 21);\n      i0.ɵɵlistener(\"ngModelChange\", function AdminGradesComponent_Template_input_ngModelChange_34_listener($event) {\n        return ctx.grad.gradName = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(35, \"div\", 22)(36, \"button\", 23);\n      i0.ɵɵtext(37, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"button\", 24);\n      i0.ɵɵtext(39, \"Add\");\n      i0.ɵɵelementEnd()()()()()()();\n      i0.ɵɵelementStart(40, \"table\", 25)(41, \"thead\")(42, \"tr\")(43, \"th\", 26);\n      i0.ɵɵtext(44, \"Garde Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"th\", 26);\n      i0.ɵɵtext(46, \"Grade\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"th\", 26);\n      i0.ɵɵtext(48, \"Edit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"th\", 26);\n      i0.ɵɵtext(50, \"Delete\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(51, AdminGradesComponent_tbody_51_Template, 56, 10, \"tbody\", 27);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"src\", ctx.image, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(28);\n      i0.ɵɵproperty(\"ngModel\", ctx.grad.gradName);\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngForOf\", ctx.grades);\n    }\n  },\n  dependencies: [i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm, i6.NgForOf, i7.AdminDashComponent, i6.UpperCasePipe],\n  styles: [\"span[_ngcontent-%COMP%]{\\n    width: 90vh;\\n    \\n\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRtaW4vYWRtaW4tZ3JhZGVzL2FkbWluLWdyYWRlcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztJQUNYLDJCQUEyQjs7QUFFL0IiLCJzb3VyY2VzQ29udGVudCI6WyJzcGFue1xuICAgIHdpZHRoOiA5MHZoO1xuICAgIC8qIGRpc3BsYXk6IGlubGluZS1ibG9jazsgKi9cblxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AAGA,SAASA,KAAK,QAAQ,iBAAiB;;;;;;;;;;;;ICoFnCC,6BAAmC;IAIdA,YAAe;IAAAA,iBAAK;IAGrCA,0BAAI;IAAAA,YAA6B;;IAAAA,iBAAK;IACtCA,0BAAI;IAAyGA,wBAAyD;IAAAA,iBAAS;IAGrLA,gCAAkI;IAGlGA;MAAA;MAAA;MAAA;MAAA,OAAYA,0CAAiB;IAAA,EAAC;IACxDA,gCAA0B;IAC8BA,uCAAsB;IAAAA,iBAAI;IAACA,6BAAM;IAACA,wBAAM;IAAAA,yBAA6D;IAAAA,iBAAO;IAClKA,mCAA4E;IACjDA,uBAAO;IAAAA,iBAAO;IAG3CA,gCAAwB;IAGYA,2BAAU;IAAAA,iBAAQ;IAC1CA,kCAAiJ;IAA1IA;MAAAA;MAAA;MAAA;IAAA,EAAkB;IAAzBA,iBAAiJ;IAO7JA,gCAA0B;IAC2CA;MAAAA;MAAA;MAAA,OAASA,+BAAS;IAAA,EAAC;IAACA,sBAAK;IAAAA,iBAAS;IACrGA,mCAAgD;IAAAA,qBAAI;IAAAA,iBAAS;IAS/DA,2BAAI;IAA0GA,yBAAwD;IAAAA,iBAAS;IAGrLA,gCAAoI;IAKtEA,+BAAc;IAAAA,iBAAI;IAACA,6BAAM;IAACA,wBAAM;IAAAA,yBAA6D;IAAAA,iBAAO;IAC1JA,mCAA4E;IACjDA,uBAAO;IAAAA,iBAAO;IAI3CA,gCAA0B;IAC2CA;MAAAA;MAAA;MAAA,OAAQA,+BAAS;IAAA;IAACA,sBAAK;IAAAA,iBAAS;IACnGA,mCAA2E;IAA9BA;MAAA;MAAA;MAAA;MAAA,OAASA,4CAAmB;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;;;;;IAvD3EA,eAAe;IAAfA,oCAAe;IAG5BA,eAA6B;IAA7BA,4DAA6B;IACqCA,eAAsC;IAAtCA,mDAAsC;IAG1FA,eAAgB;IAAhBA,mCAAgB;IAc8DA,gBAAyB;IAAzBA,mDAAyB;IAAtGA,qCAAkB;IAkBgCA,eAAwC;IAAxCA,qDAAwC;IAG3FA,eAAkB;IAAlBA,qCAAkB;;;ADxH5C,OAAM,MAAOC,oBAAoB;EAS/BC,YAAoBC,KAAoB,EAASC,EAAqB,EAASC,YAAgC,EAASC,MAAa,EAASC,QAAqB;IAA/I,UAAK,GAALJ,KAAK;IAAwB,OAAE,GAAFC,EAAE;IAA4B,iBAAY,GAAZC,YAAY;IAA6B,WAAM,GAANC,MAAM;IAAgB,aAAQ,GAARC,QAAQ;IAR/I,aAAQ,GAAE,KAAK;IACtB,WAAM,GAAU,EAAE;IAClB,QAAG,GAAE,EAAE;IACP,UAAK,GAAC,EAAE;IACR,sBAAiB,GAAG,CAAC;IACrB,uBAAkB,GAAkC,OAAO;IAC7D,qBAAgB,GAAgC,KAAK;IA6CnD,MAAC,GAAC,CAAC;IACH,OAAE,GAAC,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,UAAU,CAAC;IAEhD,SAAI,GAAE,IAAIX,KAAK,EAAE;EA9CqJ;EAKrKY,QAAQ;IACNC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,MAAM,CAAC;IAExB,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACX,EAAE,CAACY,UAAU,EAAE;IACpC,IAAI,CAACX,YAAY,CAACY,WAAW,EAAE,CAACC,SAAS,CACvCC,IAAI,IAAE;MAEN;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MAGA;MACA,IAAI,CAACL,MAAM,GAACK,IAAI;MAChB,IAAG,IAAI,CAACL,MAAM,CAACM,MAAM,IAAI,CAAC,IAAI,IAAI,CAACN,MAAM,IAAI,IAAI,EAAC;QAChD,IAAI,CAACO,KAAK,GAAC,sBAAsB;;MAEnC,IAAI,CAACA,KAAK,GAAC,wBAAwB;IAErC,CAAC,EACCC,KAAK,IAAE;MACL,IAAI,CAACD,KAAK,GAAC,sBAAsB;MACjCT,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;MACxB,IAAI,CAACU,GAAG,GAAC,OAAO;IAElB,CAAC,CAIF;EAEH;EAMDC,OAAO;IACN,IAAI,CAACb,QAAQ,EAAE;EACjB;EACCc,GAAG;IACF,IACE,IAAI,CAACC,IAAI,CAACC,QAAQ,KAAK,IAAI,IAE3B,IAAI,CAACD,IAAI,CAACC,QAAQ,KAAKC,SAAS,IAEhC,IAAI,CAACF,IAAI,CAACC,QAAQ,KAAK,EAAE,EAAC;MACxBE,KAAK,CAAC,+BAA+B,CAAC;;IAE1C,IAAI,CAACxB,YAAY,CAACyB,QAAQ,CAAC,IAAI,CAACJ,IAAI,CAAC,CAACR,SAAS,CAC7CC,IAAI,IAAE;MACJP,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MACpC;MACA,IAAI,CAACQ,KAAK,GAAC,sBAAsB;MAEjC,IAAI,CAACV,QAAQ,EAAE;MACf,IAAI,CAACJ,QAAQ,CAACwB,IAAI,CAAC,sBAAsB,EAAC,GAAG,EAAC;QAACC,QAAQ,EAAC,IAAI,CAACC,iBAAiB,GAAC,IAAI;QAACC,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;QAC7HC,gBAAgB,EAAE,IAAI,CAACA;MAAgB,CAAC,CAAC;IAE7C,CAAC,EACDb,KAAK,IAAE;MACLV,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MAC/B,IAAI,CAACF,QAAQ,EAAE;MACf,IAAI,CAACJ,QAAQ,CAACwB,IAAI,CAAC,6DAA6D,EAAC,GAAG,EAAC;QAACC,QAAQ,EAAC,IAAI,CAACC,iBAAiB,GAAC,IAAI;QAACC,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;QACpKC,gBAAgB,EAAE,IAAI,CAACA;MAAgB,CAAC,CAAC;IAG7C,CAAC,CAEF;EACH;EAEAC,IAAI,CAACC,MAAe;IAClB,IACE,IAAI,CAACC,IAAI,KAAK,IAAI,IAElB,IAAI,CAACA,IAAI,KAAKV,SAAS,IAEvB,IAAI,CAACU,IAAI,KAAK,EAAE,EAAC;MACfT,KAAK,CAAC,+BAA+B,CAAC;;IAE1C,IAAI,CAACxB,YAAY,CAACkC,SAAS,CAACF,MAAM,EAAC,IAAI,CAACC,IAAI,CAAC,CAACpB,SAAS,CACrDC,IAAI,IAAE;MACJP,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MACpC;MACA;MACA,IAAI,CAACN,QAAQ,CAACwB,IAAI,CAAC,sBAAsB,EAAC,GAAG,EAAC;QAACC,QAAQ,EAAC,IAAI,CAACC,iBAAiB,GAAC,IAAI;QAACC,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;QAC7HC,gBAAgB,EAAE,IAAI,CAACA;MAAgB,CAAC,CAAC;IAI7C,CAAC,EACDb,KAAK,IAAE;MACLV,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MAC/B,IAAI,CAACP,MAAM,CAACkC,QAAQ,CAAC,CAAC,WAAW,EAAC,IAAI,CAACC,EAAE,CAAC,CAAC;MAC3C,IAAI,CAAC9B,QAAQ,EAAE;MACf,IAAI,CAACJ,QAAQ,CAACwB,IAAI,CAAC,6DAA6D,EAAC,GAAG,EAAC;QAACC,QAAQ,EAAC,IAAI,CAACC,iBAAiB,GAAC,IAAI;QAACC,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;QACpKC,gBAAgB,EAAE,IAAI,CAACA;MAAgB,CAAC,CAAC;IAG7C,CAAC,CAGF;EACH;EAEA;EAEA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EAGA;EAGA;EACA;EACAO,MAAM,CAACL,MAAe;IAEpB,IAAI,CAAChC,YAAY,CAACsC,WAAW,CAACN,MAAM,CAAC,CAACnB,SAAS,CAC7CC,IAAI,IAAE;MACJ,IAAI,CAACR,QAAQ,EAAE;MACfC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MAEpC,IAAI,CAACN,QAAQ,CAACwB,IAAI,CAACZ,IAAI,CAAC,SAAS,CAAC,EAAC,GAAG,EAAC;QAACa,QAAQ,EAAC,IAAI,CAACC,iBAAiB,GAAC,IAAI;QAACC,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;QACtHC,gBAAgB,EAAE,IAAI,CAACA;MAAgB,CAAC,CAAC;IAG7C,CAAC,EACDb,KAAK,IAAE;MACL,IAAI,CAACX,QAAQ,EAAE;MACfC,OAAO,CAACC,GAAG,CAACS,KAAK,CAAC,OAAO,CAAC,CAAC;MAC3B,IAAI,CAACf,QAAQ,CAACwB,IAAI,CAACT,KAAK,CAAC,OAAO,CAAC,EAAC,GAAG,EAAC;QAACU,QAAQ,EAAC,IAAI,CAACC,iBAAiB,GAAC,IAAI;QAACC,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;QACrHC,gBAAgB,EAAE,IAAI,CAACA;MAAgB,CAAC,CAAC;IAG7C,CAAC,CAGF;EACH;;AA3KalC,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAA2C;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCbjChD,iCAAiC;MACjCA,8BAA6B;MACzBA,qBAAI;MACJA,8BAAgC;MAUhCA,yBAA6D;MAC/DA,iBAAM;MAKNA,uBAAa;MAEbA,8BAAiB;MAISA,yCAAwB;MAAAA,iBAAK;MAEnDA,kCAA0F;MACxFA,sBACF;MAAAA,iBAAS;MAQbA,+BAA+H;MAG/FA;QAAA,OAAYiD,SAAK;MAAA,EAAC;MAC5CjD,gCAA0B;MAC8BA,wCAAuB;MAAAA,iBAAI;MAACA,6BAAM;MAACA,wBAAM;MAAAA,yBAA6D;MAAAA,iBAAO;MACnKA,mCAA4E;MACjDA,uBAAO;MAAAA,iBAAO;MAG3CA,gCAAwB;MAGYA,2BAAU;MAAAA,iBAAQ;MAC1CA,kCAAiH;MAA1GA;QAAA;MAAA,EAA2B;MAAlCA,iBAAiH;MAO7HA,gCAA0B;MAC2CA,sBAAK;MAAAA,iBAAS;MACjFA,mCAAgD;MAAAA,oBAAG;MAAAA,iBAAS;MAcpEA,kCAAmC;MAGbA,yBAAQ;MAAAA,iBAAK;MAC7BA,+BAAgB;MAAAA,sBAAK;MAAAA,iBAAK;MAC1BA,+BAAgB;MAAAA,qBAAI;MAAAA,iBAAK;MAGzBA,+BAAgB;MAAAA,uBAAM;MAAAA,iBAAK;MAK/BA,8EAwEQ;MACVA,iBAAQ;;;MAnJDA,eAAa;MAAbA,iDAAa;MAsCKA,gBAA2B;MAA3BA,2CAA2B;MAoC1BA,gBAAS;MAATA,oCAAS","names":["Grade","i0","AdminGradesComponent","constructor","route","ms","adminservice","router","snackBar","snapshot","paramMap","get","ngOnInit","console","log","grades","loggedIn","isLoggedIn","getGradData","subscribe","data","length","image","error","msg","refresh","add","grad","gradName","undefined","alert","addGrade","open","duration","durationInSeconds","horizontalPosition","verticalPosition","edit","gradId","name","editGrade","navigate","id","delete","deleteGrade","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/KO20422228/Documents/frontend-els/ELS_UI/src/app/admin/admin-grades/admin-grades.component.ts","/Users/KO20422228/Documents/frontend-els/ELS_UI/src/app/admin/admin-grades/admin-grades.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { MatSnackBar, MatSnackBarHorizontalPosition, MatSnackBarVerticalPosition } from '@angular/material/snack-bar';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Grade } from 'src/model/grade';\nimport { AdminServiceService } from '../../../services/admin-service.service';\nimport { MainserviceService } from '../../../services/mainservice.service';\n\n\n@Component({\n  selector: 'app-admin-grades',\n  templateUrl: './admin-grades.component.html',\n  styleUrls: ['./admin-grades.component.css']\n})\nexport class AdminGradesComponent implements OnInit{\n  public loggedIn =false;\n  grades:Grade[] =[];\n  msg =\"\";\n  image=\"\";\n  durationInSeconds = 5;\n  horizontalPosition: MatSnackBarHorizontalPosition = 'right';\nverticalPosition: MatSnackBarVerticalPosition = 'top';\n\n  constructor(private route:ActivatedRoute,private ms:MainserviceService,private adminservice:AdminServiceService,private router:Router,private snackBar: MatSnackBar){}\n\n\n  \n  \n  ngOnInit(): void {\n    console.log(this.grades);\n    \n    this.loggedIn = this.ms.isLoggedIn();\n    this.adminservice.getGradData().subscribe(\n      data=>{\n        \n      //   var myJsonString = JSON.stringify(data);\n      //   var myJsonObject = JSON.parse(myJsonString);\n      //   for (let index = 0; index < myJsonObject.length - 1; index++) {\n      //      var getGradName = myJsonObject[index].gradName;\n\n      //      var obj = {};\n      //      var myjsString = JSON.stringify(obj);\n      //      var myObject = JSON.parse(myjsString);\n      //      myObject.gradName = getGradName;\n          \n          \n      // }\n      this.grades=data;\n      if(this.grades.length != 0 || this.grades == null){\n        this.image=\"assets/img/empty.jpg\"\n      }\n      this.image=\"assets/img/grades.jpeg\"\n      \n    },\n      error=>{\n        this.image=\"assets/img/empty.jpg\"\n        console.log(\"Not found\");\n        this.msg=\"Empty\";\n        \n      }\n\n      \n\n    )\n   \n  }\n  i=0;\n  id=this.route.snapshot.paramMap.get('userName');\n\n grad =new Grade();\n name!:string;\n refresh(){\n  this.ngOnInit();\n}\n add(){\n  if(\n    this.grad.gradName === null ||\n    \n    this.grad.gradName === undefined ||\n    \n    this.grad.gradName === ''){\n      alert(\"Please enter required details\");\n    }\n  this.adminservice.addGrade(this.grad).subscribe(\n    data=>{\n      console.log(\"response received....\");\n      // this.router.navigate(['adminGrad',this.id]);\n      this.image=\"assets/img/empty.jpg\"\n\n      this.ngOnInit();\n      this.snackBar.open(\"Successfully added!!\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n      \n    },\n    error=>{\n      console.log(\"error occured...\");\n      this.ngOnInit();\n      this.snackBar.open(\"This grade already exists !!Try with adding different grade\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n     \n      \n    }\n\n  )\n}\n\nedit(gradId : number){\n  if(\n    this.name === null ||\n    \n    this.name === undefined ||\n    \n    this.name === ''){\n      alert(\"Please enter required details\");\n    }\n  this.adminservice.editGrade(gradId,this.name).subscribe(\n    data=>{\n      console.log(\"response received....\");\n      //this.router.navigate(['adminGrad',this.id]);\n      // this.ngOnInit();\n      this.snackBar.open(\"Successfully added!!\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n     \n      \n      \n    },\n    error=>{\n      console.log(\"error occured...\");\n      this.router.navigate(['adminGrad',this.id]);\n      this.ngOnInit();\n      this.snackBar.open(\"This grade already exists !!Try with adding different grade\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n     \n      \n    }\n    \n\n  )\n}\n\n// delete(gradId : number){\n  \n//   this.adminservice.deleteGrade(gradId).subscribe(\n//     data=>{\n//       console.log(\"response received....\");\n//       // this.ngOnInit();\n//       this.snackBar.open(\"Successfully deleted!!\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n//         verticalPosition: this.verticalPosition})\n      \n//     },\n//     error=>{\n//       console.log(\"error occured...\");\n//       this.ngOnInit();\n//       this.snackBar.open(\"Problem occured!\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n//         verticalPosition: this.verticalPosition})\n     \n      \n//     }\n    \n\n//   )\n// }\ndelete(gradId : number){\n  \n  this.adminservice.deleteGrade(gradId).subscribe(\n    data=>{\n      this.ngOnInit()\n      console.log(\"response received....\");\n     \n      this.snackBar.open(data[\"message\"],\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n        \n      \n    },\n    error=>{\n      this.ngOnInit()\n      console.log(error[\"error\"]);\n      this.snackBar.open(error[\"error\"],\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n     \n      \n    }\n    \n\n  )\n}\n\n\n\n\n\n}\n","<app-admin-dash></app-admin-dash>\n<div class=\"container-fluid\">\n    <br>\n    <div class=\"d-flex flex-lg-row\">\n        <div class=\"p-2\"> \n<!-- <div   *ngIf=\"msg!=''\">\n    <img class=\"style=align-items-center;margin-right:60%;\" src=\"assets/img/empty.jpg\" style=\"width:90%;height:100%;\"  alt=\"...\" />\n  </div>\n\n  <div   *ngIf=\"msg==''\">\n    <img class=\"style=align-items-center;margin-right:60%;\" src=\"assets/img/grades.jpeg\" style=\"width:100%;height:100%;\" alt=\"...\"  />\n  </div> -->\n  <div>\n    <img [src]=\"image\" style=\"width:100%;height:100%;\" alt=\"...\">\n  </div>\n  \n  </div>\n\n  <!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->\n  <span></span>\n \n  <div class=\"p-2\">\n  \n  <div class=\"card w-100 shadow-lg p-3 mb-5 bg-white rounded \">\n    <div class=\"card-body \">\n      <h5 class=\"card-text\">Click here to add grades</h5>\n     \n      <button type=\"button\" class=\"btn btn-success\" data-toggle=\"modal\" data-target=\"#addGrade\">\n        Add\n      </button>\n    </div>\n  </div>\n  </div>\n  \n  \n\n<!-- -------------------------------- Add grade Modal ------------------------------->\n  <div class=\"modal fade\" id=\"addGrade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <form #gradform=\"ngForm\"  (ngSubmit)=\"add()\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLongTitle\"><b>Enter your new grade!!!</b> <span> &nbsp;<i class=\"fas fas fa-chalkboard\" style=\"color: #0b29ab;\"></i></span></h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n            \n                <div class=\"form-outline mb-2\">\n                  <label class=\"form-label\">Grade Name</label>\n                    <input [(ngModel)]=\"grad.gradName\" name=\"gradName\" class=\"form-control form-control\" type=\"text\"  aria-required/>\n                  </div>\n                  <!-- <div class=\"pt-1 mb-4\">\n                    <button type=\"submit\" class=\"btn btn-warning\">Add</button>\n                  </div>\n                  </form> -->\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-warning\" data-dismiss=\"modal\">Close</button>\n          <button type=\"submit\" class=\"btn btn-secondary\">Add</button>\n        </div>\n    </form>\n      </div>\n    </div>\n  </div>\n\n  <!-- ------------------------------End Modal ---------------------------------------->\n  \n\n  \n  \n  </div>\n  \n  <table class=\"table table-striped\">\n    <thead>\n      <tr>\n        <th scope=\"col\">Garde Id</th>\n        <th scope=\"col\">Grade</th>\n        <th scope=\"col\">Edit</th>\n\n     \n        <th scope=\"col\">Delete</th>\n        \n      </tr>\n    </thead>\n\n    <tbody *ngFor=\"let grad of grades\">\n        <!-- <div *ngFor=\"let grad of grades\"> -->\n      <tr >\n       \n         <th scope=\"row\">{{grad.gradId}}</th>\n\n       \n        <td>{{grad.gradName | uppercase}}</td>\n        <td><button type=\"submit\" class=\"btn btn-warning\" data-toggle=\"modal\" [attr.data-target]=\"'#' + grad.gradId\"><i class=\"fas fas fa-marker\" style=\"color: #0a0a0a;\"></i></button></td>\n           <!-- -------------------------------- Edit grade Modal ------------------------------->\n\n  <div class=\"modal fade\" [id]=grad.gradId tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <form #editForm=\"ngForm\"  (ngSubmit)=\"edit(grad.gradId)\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLongTitle\"><b>Edit your new grade!!!</b> <span> &nbsp;<i class=\"fas fas fa-chalkboard\" style=\"color: #0b29ab;\"></i></span></h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n            \n          <div class=\"form-outline mb-2\">\n                  <label class=\"form-label\">Grade Name</label>\n                    <input [(ngModel)]=\"name\" name=\"name\" class=\"form-control form-control\" type=\"text\" value=\"{{grad.gradName}}\"  autocomplete=\"off\" aria-required/>\n                  </div>\n                  <!-- <div class=\"pt-1 mb-4\">\n                    <button type=\"submit\" class=\"btn btn-warning\">Add</button>\n                  </div>\n                  </form> -->\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-warning\" data-dismiss=\"modal\" (click)=\"refresh()\">Close</button>\n          <button type=\"submit\" class=\"btn btn-secondary\">Edit</button>\n        </div>\n    </form>\n      </div>\n    </div>\n  </div>\n\n  <!-- ------------------------------End Modal ---------------------------------------->\n  \n        <td><button type=\"submit\" class=\"btn btn-danger\" data-toggle=\"modal\" [attr.data-target]=\"'#' + grad.gradName\"><i class=\"fas fas fa-trash\" style=\"color: #0a0a0a;\"></i></button></td>\n        <!-- -------------------------------- Edit grade Modal ------------------------------->\n\n  <div class=\"modal fade\" [id]=grad.gradName tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        \n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLongTitle\"><b>Are you sure ?</b> <span> &nbsp;<i class=\"fas fas fa-chalkboard\" style=\"color: #0b29ab;\"></i></span></h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        \n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-warning\" data-dismiss=\"modal\" (click)=refresh()>Close</button>\n          <button type=\"submit\" class=\"btn btn-danger\" (click)=\"delete(grad.gradId)\">Delete</button>\n        </div>\n   \n      </div>\n    </div>\n  </div>\n\n  <!-- ------------------------------End Modal ---------------------------------------->\n        \n       \n      </tr>\n      <!-- </div> -->\n     \n    </tbody>\n  </table>\n\n\n  \n\n  \n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}