{"ast":null,"code":"import { Subject } from 'src/model/subject';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../services/mainservice.service\";\nimport * as i3 from \"../../../services/admin-service.service\";\nimport * as i4 from \"@angular/material/snack-bar\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"../admin-dash/admin-dash.component\";\nfunction AdminSubjectsComponent_tbody_51_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"th\", 28);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\")(7, \"button\", 29);\n    i0.ɵɵelement(8, \"i\", 30);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 31)(10, \"div\", 9)(11, \"div\", 10)(12, \"form\", 11);\n    i0.ɵɵlistener(\"ngSubmit\", function AdminSubjectsComponent_tbody_51_Template_form_ngSubmit_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const sub_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.edit(sub_r2.subId));\n    });\n    i0.ɵɵelementStart(13, \"div\", 13)(14, \"h5\", 14)(15, \"b\");\n    i0.ɵɵtext(16, \"Edit your new subject!!!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\");\n    i0.ɵɵtext(18, \" \\u00A0\");\n    i0.ɵɵelement(19, \"i\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"button\", 16)(21, \"span\", 17);\n    i0.ɵɵtext(22, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(23, \"div\", 18)(24, \"div\", 19)(25, \"input\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function AdminSubjectsComponent_tbody_51_Template_input_ngModelChange_25_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"label\", 21);\n    i0.ɵɵtext(27, \"Subject Name\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(28, \"div\", 22)(29, \"button\", 23);\n    i0.ɵɵtext(30, \"Close\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"button\", 24);\n    i0.ɵɵtext(32, \"Edit\");\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(33, \"td\")(34, \"button\", 33);\n    i0.ɵɵelement(35, \"i\", 34);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(36, \"div\", 31)(37, \"div\", 9)(38, \"div\", 10)(39, \"div\", 13)(40, \"h5\", 14)(41, \"b\");\n    i0.ɵɵtext(42, \"Are you sure ?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"span\");\n    i0.ɵɵtext(44, \" \\u00A0\");\n    i0.ɵɵelement(45, \"i\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(46, \"button\", 16)(47, \"span\", 17);\n    i0.ɵɵtext(48, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(49, \"div\", 22)(50, \"button\", 23);\n    i0.ɵɵtext(51, \"Close\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function AdminSubjectsComponent_tbody_51_Template_button_click_52_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const sub_r2 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.delete(sub_r2.subId));\n    });\n    i0.ɵɵtext(53, \"Delete\");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    const sub_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(sub_r2.subId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(sub_r2.subName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"data-target\", \"#\" + sub_r2.subId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", sub_r2.subId);\n    i0.ɵɵadvance(16);\n    i0.ɵɵpropertyInterpolate(\"value\", sub_r2.subName);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.name);\n    i0.ɵɵadvance(9);\n    i0.ɵɵattribute(\"data-target\", \"#\" + sub_r2.subName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", sub_r2.subName);\n  }\n}\nexport class AdminSubjectsComponent {\n  constructor(route, ms, adminservice, router, snackBar) {\n    this.route = route;\n    this.ms = ms;\n    this.adminservice = adminservice;\n    this.router = router;\n    this.snackBar = snackBar;\n    this.loggedIn = false;\n    this.subjects = [];\n    this.msg = \"\";\n    this.image = \"\";\n    this.durationInSeconds = 5;\n    this.horizontalPosition = 'right';\n    this.verticalPosition = 'top';\n    this.i = 0;\n    this.id = this.route.snapshot.paramMap.get('userName');\n    this.sub = new Subject();\n  }\n  ngOnInit() {\n    this.loggedIn = this.ms.isLoggedIn();\n    this.adminservice.getSubData().subscribe(data => {\n      //   var myJsonString = JSON.stringify(data);\n      //   var myJsonObject = JSON.parse(myJsonString);\n      //   for (let index = 0; index < myJsonObject.length - 1; index++) {\n      //      var getGradName = myJsonObject[index].gradName;\n      //      var obj = {};\n      //      var myjsString = JSON.stringify(obj);\n      //      var myObject = JSON.parse(myjsString);\n      //      myObject.gradName = getGradName;\n      // }\n      this.subjects = data;\n      if (this.subjects.length != 0 || this.subjects == null) {\n        this.image = \"assets/img/empty.jpg\";\n      }\n      this.image = \"assets/img/grades.jpeg\";\n    }, error => {\n      this.image = \"assets/img/empty.jpg\";\n      this.msg = \"Empty\";\n      console.log(\"Not found\");\n    });\n  }\n  add() {\n    if (this.sub.subName === null || this.sub.subName === undefined || this.sub.subName === '') {\n      alert(\"Please enter required details\");\n    }\n    this.adminservice.addSub(this.sub).subscribe(data => {\n      console.log(\"response received....\");\n      // this.router.navigate(['adminSub',this.id]);\n      this.ngOnInit();\n      this.snackBar.open(\"Successfully added!!\", \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    }, error => {\n      console.log(\"error occured...\");\n      this.ngOnInit();\n      this.snackBar.open(\"This subject already exists !!Try with adding different subject\", \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    });\n  }\n  edit(subId) {\n    if (this.name === null || this.name === undefined || this.name === '') {\n      alert(\"Please enter required details\");\n    }\n    this.adminservice.editSubject(subId, this.name).subscribe(data => {\n      console.log(\"response received....\");\n      // this.router.navigate(['adminSub',this.id]);\n      this.ngOnInit();\n      this.snackBar.open(\"Successfully added!!\", \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    }, error => {\n      console.log(\"error occured...\");\n      this.router.navigate(['adminSub', this.id]);\n      this.ngOnInit();\n      this.snackBar.open(error[\"error\"], \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    });\n  }\n  refresh() {\n    this.ngOnInit();\n  }\n  delete(subId) {\n    this.adminservice.deleteSubject(subId).subscribe(data => {\n      console.log(\"response received....\");\n      this.ngOnInit();\n      this.snackBar.open(\"Successfully deleted!!\", \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    }, error => {\n      console.log(\"error occured...\");\n      this.ngOnInit();\n      this.snackBar.open(error[\"error\"], \"X\", {\n        duration: this.durationInSeconds * 1000,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n    });\n  }\n}\nAdminSubjectsComponent.ɵfac = function AdminSubjectsComponent_Factory(t) {\n  return new (t || AdminSubjectsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.MainserviceService), i0.ɵɵdirectiveInject(i3.AdminServiceService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i4.MatSnackBar));\n};\nAdminSubjectsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AdminSubjectsComponent,\n  selectors: [[\"app-admin-subjects\"]],\n  decls: 52,\n  vars: 3,\n  consts: [[1, \"container-fluid\"], [1, \"d-flex\", \"flex-lg-row\"], [1, \"p-2\"], [\"alt\", \"...\", 2, \"width\", \"100%\", \"height\", \"100%\", 3, \"src\"], [1, \"card\", \"w-100\", \"shadow-lg\", \"p-3\", \"mb-5\", \"bg-white\", \"rounded\"], [1, \"card-body\"], [1, \"card-text\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#addGrade\", 1, \"btn\", \"btn-success\"], [\"id\", \"addGrade\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalCenterTitle\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [3, \"ngSubmit\"], [\"gradform\", \"ngForm\"], [1, \"modal-header\"], [\"id\", \"exampleModalLongTitle\", 1, \"modal-title\"], [1, \"fas\", \"fas\", \"fa-chalkboard\", 2, \"color\", \"#0b29ab\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"form-outline\", \"mb-2\"], [\"name\", \"subName\", \"type\", \"text\", \"aria-required\", \"\", 1, \"form-control\", \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-label\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-warning\"], [\"type\", \"submit\", 1, \"btn\", \"btn-secondary\"], [1, \"table\", \"table-striped\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"scope\", \"row\"], [\"type\", \"submit\", \"data-toggle\", \"modal\", 1, \"btn\", \"btn-warning\"], [1, \"fas\", \"fas\", \"fa-marker\", 2, \"color\", \"#0a0a0a\"], [\"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalCenterTitle\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\", 3, \"id\"], [\"name\", \"name\", \"type\", \"text\", \"autocomplete\", \"off\", \"aria-required\", \"\", 1, \"form-control\", \"form-control\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [\"type\", \"submit\", \"data-toggle\", \"modal\", 1, \"btn\", \"btn-danger\"], [1, \"fas\", \"fas\", \"fa-trash\", 2, \"color\", \"#0a0a0a\"], [\"type\", \"submit\", 1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function AdminSubjectsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-admin-dash\");\n      i0.ɵɵelementStart(1, \"div\", 0);\n      i0.ɵɵelement(2, \"br\");\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"div\");\n      i0.ɵɵelement(6, \"img\", 3);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(7, \"span\");\n      i0.ɵɵelementStart(8, \"div\", 2)(9, \"div\", 4)(10, \"div\", 5)(11, \"h5\", 6);\n      i0.ɵɵtext(12, \"Click here to add subjects\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"button\", 7);\n      i0.ɵɵtext(14, \" Add \");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(15, \"div\", 8)(16, \"div\", 9)(17, \"div\", 10)(18, \"form\", 11, 12);\n      i0.ɵɵlistener(\"ngSubmit\", function AdminSubjectsComponent_Template_form_ngSubmit_18_listener() {\n        return ctx.add();\n      });\n      i0.ɵɵelementStart(20, \"div\", 13)(21, \"h5\", 14)(22, \"b\");\n      i0.ɵɵtext(23, \"Enter your new subject!!!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"span\");\n      i0.ɵɵtext(25, \" \\u00A0\");\n      i0.ɵɵelement(26, \"i\", 15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"button\", 16)(28, \"span\", 17);\n      i0.ɵɵtext(29, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(30, \"div\", 18)(31, \"div\", 19)(32, \"input\", 20);\n      i0.ɵɵlistener(\"ngModelChange\", function AdminSubjectsComponent_Template_input_ngModelChange_32_listener($event) {\n        return ctx.sub.subName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"label\", 21);\n      i0.ɵɵtext(34, \"Subject Name\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(35, \"div\", 22)(36, \"button\", 23);\n      i0.ɵɵtext(37, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"button\", 24);\n      i0.ɵɵtext(39, \"Add\");\n      i0.ɵɵelementEnd()()()()()()();\n      i0.ɵɵelementStart(40, \"table\", 25)(41, \"thead\")(42, \"tr\")(43, \"th\", 26);\n      i0.ɵɵtext(44, \"Subject Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"th\", 26);\n      i0.ɵɵtext(46, \"Subject\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"th\", 26);\n      i0.ɵɵtext(48, \"Edit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"th\", 26);\n      i0.ɵɵtext(50, \"Delete\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(51, AdminSubjectsComponent_tbody_51_Template, 54, 8, \"tbody\", 27);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"src\", ctx.image, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(26);\n      i0.ɵɵproperty(\"ngModel\", ctx.sub.subName);\n      i0.ɵɵadvance(19);\n      i0.ɵɵproperty(\"ngForOf\", ctx.subjects);\n    }\n  },\n  dependencies: [i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm, i6.NgForOf, i7.AdminDashComponent],\n  styles: [\"span[_ngcontent-%COMP%]{\\n    width: 90vh;\\n    \\n\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRtaW4vYWRtaW4tc3ViamVjdHMvYWRtaW4tc3ViamVjdHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCwyQkFBMkI7O0FBRS9CIiwic291cmNlc0NvbnRlbnQiOlsic3BhbntcbiAgICB3aWR0aDogOTB2aDtcbiAgICAvKiBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7ICovXG5cbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AAGA,SAASA,OAAO,QAAQ,mBAAmB;;;;;;;;;;;;ICmFvCC,6BAAoC;IAIfA,YAAa;IAAAA,iBAAK;IAGnCA,0BAAI;IAAAA,YAAe;IAAAA,iBAAK;IACxBA,0BAAI;IAAuGA,wBAAyD;IAAAA,iBAAS;IAGnLA,+BAAgI;IAGlHA;MAAA;MAAA;MAAA;MAAA,OAAYA,wCAAe;IAAA,EAAC;IACpCA,gCAA0B;IAC8BA,yCAAwB;IAAAA,iBAAI;IAACA,6BAAM;IAACA,wBAAM;IAAAA,yBAA6D;IAAAA,iBAAO;IACpKA,mCAA4E;IACjDA,uBAAO;IAAAA,iBAAO;IAG3CA,gCAAwB;IAGLA;MAAAA;MAAA;MAAA;IAAA,EAAkB;IAAzBA,iBAA+I;IAC/IA,kCAA0B;IAAAA,6BAAY;IAAAA,iBAAQ;IAO1DA,gCAA0B;IAC2CA,sBAAK;IAAAA,iBAAS;IACjFA,mCAAgD;IAAAA,qBAAI;IAAAA,iBAAS;IAS/DA,2BAAI;IAAwGA,yBAAwD;IAAAA,iBAAS;IAGnLA,gCAAkI;IAKpEA,+BAAc;IAAAA,iBAAI;IAACA,6BAAM;IAACA,wBAAM;IAAAA,yBAA6D;IAAAA,iBAAO;IAC1JA,mCAA4E;IACjDA,uBAAO;IAAAA,iBAAO;IAI3CA,gCAA0B;IAC2CA,sBAAK;IAAAA,iBAAS;IACjFA,mCAAyE;IAA5BA;MAAA;MAAA;MAAA;MAAA,OAASA,0CAAiB;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;;;;;IAvDzEA,eAAa;IAAbA,kCAAa;IAG1BA,eAAe;IAAfA,oCAAe;IACmDA,eAAoC;IAApCA,iDAAoC;IAGxFA,eAAc;IAAdA,iCAAc;IAagEA,gBAAuB;IAAvBA,iDAAuB;IAApGA,qCAAkB;IAmBgCA,eAAsC;IAAtCA,mDAAsC;IAGzFA,eAAgB;IAAhBA,mCAAgB;;;ADtH1C,OAAM,MAAOC,sBAAsB;EASjCC,YAAoBC,KAAoB,EAASC,EAAqB,EAASC,YAAgC,EAASC,MAAa,EAASC,QAAqB;IAA/I,UAAK,GAALJ,KAAK;IAAwB,OAAE,GAAFC,EAAE;IAA4B,iBAAY,GAAZC,YAAY;IAA6B,WAAM,GAANC,MAAM;IAAgB,aAAQ,GAARC,QAAQ;IAR/I,aAAQ,GAAE,KAAK;IACtB,aAAQ,GAAW,EAAE;IACrB,QAAG,GAAE,EAAE;IACP,UAAK,GAAC,EAAE;IACR,sBAAiB,GAAG,CAAC;IACrB,uBAAkB,GAAkC,OAAO;IAC7D,qBAAgB,GAAgC,KAAK;IAwCnD,MAAC,GAAC,CAAC;IACH,OAAE,GAAC,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,UAAU,CAAC;IAEhD,QAAG,GAAE,IAAIX,OAAO,EAAE;EAzCoJ;EAErKY,QAAQ;IACN,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACR,EAAE,CAACS,UAAU,EAAE;IACpC,IAAI,CAACR,YAAY,CAACS,UAAU,EAAE,CAACC,SAAS,CACtCC,IAAI,IAAE;MACN;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MAGA;MACK,IAAI,CAACC,QAAQ,GAACD,IAAI;MAClB,IAAG,IAAI,CAACC,QAAQ,CAACC,MAAM,IAAI,CAAC,IAAI,IAAI,CAACD,QAAQ,IAAI,IAAI,EAAC;QACrD,IAAI,CAACE,KAAK,GAAC,sBAAsB;;MAEnC,IAAI,CAACA,KAAK,GAAC,wBAAwB;IAEzC,CAAC,EACCC,KAAK,IAAE;MACL,IAAI,CAACD,KAAK,GAAC,sBAAsB;MAClC,IAAI,CAACE,GAAG,GAAC,OAAO;MACfC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;IAG1B,CAAC,CAIF;EAEH;EAODC,GAAG;IACF,IACE,IAAI,CAACC,GAAG,CAACC,OAAO,KAAK,IAAI,IAEzB,IAAI,CAACD,GAAG,CAACC,OAAO,KAAKC,SAAS,IAE9B,IAAI,CAACF,GAAG,CAACC,OAAO,KAAK,EAAE,EAAC;MACtBE,KAAK,CAAC,+BAA+B,CAAC;;IAE1C,IAAI,CAACvB,YAAY,CAACwB,MAAM,CAAC,IAAI,CAACJ,GAAG,CAAC,CAACV,SAAS,CAC1CC,IAAI,IAAE;MACJM,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MACpC;MACA,IAAI,CAACZ,QAAQ,EAAE;MACf,IAAI,CAACJ,QAAQ,CAACuB,IAAI,CAAC,sBAAsB,EAAC,GAAG,EAAC;QAACC,QAAQ,EAAC,IAAI,CAACC,iBAAiB,GAAC,IAAI;QAACC,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;QAC7HC,gBAAgB,EAAE,IAAI,CAACA;MAAgB,CAAC,CAAC;IAE7C,CAAC,EACDd,KAAK,IAAE;MACLE,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MAC/B,IAAI,CAACZ,QAAQ,EAAE;MACf,IAAI,CAACJ,QAAQ,CAACuB,IAAI,CAAC,iEAAiE,EAAC,GAAG,EAAC;QAACC,QAAQ,EAAC,IAAI,CAACC,iBAAiB,GAAC,IAAI;QAACC,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;QACxKC,gBAAgB,EAAE,IAAI,CAACA;MAAgB,CAAC,CAAC;IAG7C,CAAC,CAEF;EACH;EAEAC,IAAI,CAACC,KAAc;IACjB,IACE,IAAI,CAACC,IAAI,KAAK,IAAI,IAElB,IAAI,CAACA,IAAI,KAAKV,SAAS,IAEvB,IAAI,CAACU,IAAI,KAAK,EAAE,EAAC;MACfT,KAAK,CAAC,+BAA+B,CAAC;;IAE1C,IAAI,CAACvB,YAAY,CAACiC,WAAW,CAACF,KAAK,EAAC,IAAI,CAACC,IAAI,CAAC,CAACtB,SAAS,CACtDC,IAAI,IAAE;MACJM,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MACpC;MACA,IAAI,CAACZ,QAAQ,EAAE;MACf,IAAI,CAACJ,QAAQ,CAACuB,IAAI,CAAC,sBAAsB,EAAC,GAAG,EAAC;QAACC,QAAQ,EAAC,IAAI,CAACC,iBAAiB,GAAC,IAAI;QAACC,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;QAC7HC,gBAAgB,EAAE,IAAI,CAACA;MAAgB,CAAC,CAAC;IAE7C,CAAC,EACDd,KAAK,IAAE;MACLE,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MAC/B,IAAI,CAACjB,MAAM,CAACiC,QAAQ,CAAC,CAAC,UAAU,EAAC,IAAI,CAACC,EAAE,CAAC,CAAC;MAC1C,IAAI,CAAC7B,QAAQ,EAAE;MACf,IAAI,CAACJ,QAAQ,CAACuB,IAAI,CAACV,KAAK,CAAC,OAAO,CAAC,EAAC,GAAG,EAAC;QAACW,QAAQ,EAAC,IAAI,CAACC,iBAAiB,GAAC,IAAI;QAACC,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;QACrHC,gBAAgB,EAAE,IAAI,CAACA;MAAgB,CAAC,CAAC;IAG7C,CAAC,CAGF;EACH;EACAO,OAAO;IACL,IAAI,CAAC9B,QAAQ,EAAE;EACjB;EACA+B,MAAM,CAACN,KAAc;IAEnB,IAAI,CAAC/B,YAAY,CAACsC,aAAa,CAACP,KAAK,CAAC,CAACrB,SAAS,CAC9CC,IAAI,IAAE;MACJM,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MACpC,IAAI,CAACZ,QAAQ,EAAE;MACf,IAAI,CAACJ,QAAQ,CAACuB,IAAI,CAAC,wBAAwB,EAAC,GAAG,EAAC;QAACC,QAAQ,EAAC,IAAI,CAACC,iBAAiB,GAAC,IAAI;QAACC,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;QAC/HC,gBAAgB,EAAE,IAAI,CAACA;MAAgB,CAAC,CAAC;IAE7C,CAAC,EACDd,KAAK,IAAE;MACLE,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MAC/B,IAAI,CAACZ,QAAQ,EAAE;MACf,IAAI,CAACJ,QAAQ,CAACuB,IAAI,CAACV,KAAK,CAAC,OAAO,CAAC,EAAC,GAAG,EAAC;QAACW,QAAQ,EAAC,IAAI,CAACC,iBAAiB,GAAC,IAAI;QAACC,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;QACrHC,gBAAgB,EAAE,IAAI,CAACA;MAAgB,CAAC,CAAC;IAG7C,CAAC,CAGF;EACH;;AA1IajC,sBAAsB;mBAAtBA,sBAAsB;AAAA;AAAtBA,sBAAsB;QAAtBA,sBAAsB;EAAA2C;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCdnChD,iCAAiC;MACjCA,8BAA6B;MACzBA,qBAAI;MACJA,8BAAgC;MAWhCA,yBAA6D;MAC/DA,iBAAM;MAKNA,uBAAa;MAEbA,8BAAiB;MAISA,2CAA0B;MAAAA,iBAAK;MAErDA,kCAA0F;MACxFA,sBACF;MAAAA,iBAAS;MAQbA,+BAA+H;MAG/FA;QAAA,OAAYiD,SAAK;MAAA,EAAC;MAC5CjD,gCAA0B;MAC8BA,0CAAyB;MAAAA,iBAAI;MAACA,6BAAM;MAACA,wBAAM;MAAAA,yBAA6D;MAAAA,iBAAO;MACrKA,mCAA4E;MACjDA,uBAAO;MAAAA,iBAAO;MAG3CA,gCAAwB;MAGLA;QAAA;MAAA,EAAyB;MAAhCA,iBAA8G;MAC9GA,kCAA0B;MAAAA,6BAAY;MAAAA,iBAAQ;MAO1DA,gCAA0B;MAC2CA,sBAAK;MAAAA,iBAAS;MACjFA,mCAAgD;MAAAA,oBAAG;MAAAA,iBAAS;MAapEA,kCAAmC;MAGbA,2BAAU;MAAAA,iBAAK;MAC/BA,+BAAgB;MAAAA,wBAAO;MAAAA,iBAAK;MAC5BA,+BAAgB;MAAAA,qBAAI;MAAAA,iBAAK;MAGzBA,+BAAgB;MAAAA,uBAAM;MAAAA,iBAAK;MAI/BA,+EAwEQ;MACVA,iBAAQ;;;MAjJDA,eAAa;MAAbA,iDAAa;MAqCKA,gBAAyB;MAAzBA,yCAAyB;MAmCzBA,gBAAW;MAAXA,sCAAW","names":["Subject","i0","AdminSubjectsComponent","constructor","route","ms","adminservice","router","snackBar","snapshot","paramMap","get","ngOnInit","loggedIn","isLoggedIn","getSubData","subscribe","data","subjects","length","image","error","msg","console","log","add","sub","subName","undefined","alert","addSub","open","duration","durationInSeconds","horizontalPosition","verticalPosition","edit","subId","name","editSubject","navigate","id","refresh","delete","deleteSubject","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/KO20422228/Documents/frontend-els/ELS_UI/src/app/admin/admin-subjects/admin-subjects.component.ts","/Users/KO20422228/Documents/frontend-els/ELS_UI/src/app/admin/admin-subjects/admin-subjects.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { MatSnackBarHorizontalPosition, MatSnackBarVerticalPosition, MatSnackBar } from '@angular/material/snack-bar';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Subject } from 'src/model/subject';\nimport { AdminServiceService } from '../../../services/admin-service.service';\nimport { MainserviceService } from '../../../services/mainservice.service';\n\n\n\n@Component({\n  selector: 'app-admin-subjects',\n  templateUrl: './admin-subjects.component.html',\n  styleUrls: ['./admin-subjects.component.css']\n})\nexport class AdminSubjectsComponent implements OnInit{\n  public loggedIn =false;\n  subjects:Subject[]=[];\n  msg =\"\";\n  image=\"\";\n  durationInSeconds = 5;\n  horizontalPosition: MatSnackBarHorizontalPosition = 'right';\nverticalPosition: MatSnackBarVerticalPosition = 'top';\n\n  constructor(private route:ActivatedRoute,private ms:MainserviceService,private adminservice:AdminServiceService,private router:Router,private snackBar: MatSnackBar){}\n\n  ngOnInit(): void {\n    this.loggedIn = this.ms.isLoggedIn();\n    this.adminservice.getSubData().subscribe(\n      data=>{\n      //   var myJsonString = JSON.stringify(data);\n      //   var myJsonObject = JSON.parse(myJsonString);\n      //   for (let index = 0; index < myJsonObject.length - 1; index++) {\n      //      var getGradName = myJsonObject[index].gradName;\n\n      //      var obj = {};\n      //      var myjsString = JSON.stringify(obj);\n      //      var myObject = JSON.parse(myjsString);\n      //      myObject.gradName = getGradName;\n          \n          \n      // }\n           this.subjects=data;\n           if(this.subjects.length != 0 || this.subjects == null){\n            this.image=\"assets/img/empty.jpg\"\n          }\n          this.image=\"assets/img/grades.jpeg\"\n      \n    },\n      error=>{\n        this.image=\"assets/img/empty.jpg\"\n       this.msg=\"Empty\";\n        console.log(\"Not found\");\n        \n        \n      }\n\n      \n\n    )\n   \n  }\n  i=0;\n  id=this.route.snapshot.paramMap.get('userName');\n\n sub =new Subject();\n name!:string;\n\n add(){\n  if(\n    this.sub.subName === null ||\n    \n    this.sub.subName === undefined ||\n    \n    this.sub.subName === ''){\n      alert(\"Please enter required details\");\n    }\n  this.adminservice.addSub(this.sub).subscribe(\n    data=>{\n      console.log(\"response received....\");\n      // this.router.navigate(['adminSub',this.id]);\n      this.ngOnInit();\n      this.snackBar.open(\"Successfully added!!\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n      \n    },\n    error=>{\n      console.log(\"error occured...\");\n      this.ngOnInit();\n      this.snackBar.open(\"This subject already exists !!Try with adding different subject\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n     \n      \n    }\n\n  )\n}\n\nedit(subId : number){\n  if(\n    this.name === null ||\n    \n    this.name === undefined ||\n    \n    this.name === ''){\n      alert(\"Please enter required details\");\n    }\n  this.adminservice.editSubject(subId,this.name).subscribe(\n    data=>{\n      console.log(\"response received....\");\n      // this.router.navigate(['adminSub',this.id]);\n      this.ngOnInit();\n      this.snackBar.open(\"Successfully added!!\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n      \n    },\n    error=>{\n      console.log(\"error occured...\");\n      this.router.navigate(['adminSub',this.id]);\n      this.ngOnInit();\n      this.snackBar.open(error[\"error\"],\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n     \n      \n    }\n    \n\n  )\n}\nrefresh(){\n  this.ngOnInit();\n}\ndelete(subId : number){\n  \n  this.adminservice.deleteSubject(subId).subscribe(\n    data=>{\n      console.log(\"response received....\");\n      this.ngOnInit();\n      this.snackBar.open(\"Successfully deleted!!\",\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n      \n    },\n    error=>{\n      console.log(\"error occured...\");\n      this.ngOnInit();\n      this.snackBar.open(error[\"error\"],\"X\",{duration:this.durationInSeconds*1000,horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition})\n     \n      \n    }\n    \n\n  )\n}\n\n}\n","<app-admin-dash></app-admin-dash>\n<div class=\"container-fluid\">\n    <br>\n    <div class=\"d-flex flex-lg-row\">\n        <div class=\"p-2\"> \n<!-- <div   *ngIf=\"msg!=''\">\n    <img class=\"style=align-items-center;margin-right:60%;\" src=\"assets/img/empty.jpg\" style=\"width:70%;height:70%;\" alt=\"...\" />\n  </div>\n\n  <div   *ngIf=\"msg==''\">\n    <img class=\"style=align-items-center;margin-right:60%;\" src=\"assets/img/subjects.jpeg\" style=\"width:70%;height:70%;\" alt=\"...\"  />\n  </div> -->\n\n  <div>\n    <img [src]=\"image\" style=\"width:100%;height:100%;\" alt=\"...\">\n  </div>\n  \n  </div>\n\n  <!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->\n  <span></span>\n \n  <div class=\"p-2\">\n  \n  <div class=\"card w-100 shadow-lg p-3 mb-5 bg-white rounded \">\n    <div class=\"card-body \">\n      <h5 class=\"card-text\">Click here to add subjects</h5>\n     \n      <button type=\"button\" class=\"btn btn-success\" data-toggle=\"modal\" data-target=\"#addGrade\">\n        Add\n      </button>\n    </div>\n  </div>\n  </div>\n  \n  \n\n<!-- -------------------------------- Add subject Modal ------------------------------->\n  <div class=\"modal fade\" id=\"addGrade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <form #gradform=\"ngForm\"  (ngSubmit)=\"add()\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLongTitle\"><b>Enter your new subject!!!</b> <span> &nbsp;<i class=\"fas fas fa-chalkboard\" style=\"color: #0b29ab;\"></i></span></h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n            \n                <div class=\"form-outline mb-2\">\n                    <input [(ngModel)]=\"sub.subName\" name=\"subName\" class=\"form-control form-control\" type=\"text\"  aria-required/>\n                    <label class=\"form-label\">Subject Name</label>\n                  </div>\n                  <!-- <div class=\"pt-1 mb-4\">\n                    <button type=\"submit\" class=\"btn btn-warning\">Add</button>\n                  </div>\n                  </form> -->\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-warning\" data-dismiss=\"modal\">Close</button>\n          <button type=\"submit\" class=\"btn btn-secondary\">Add</button>\n        </div>\n    </form>\n      </div>\n    </div>\n  </div>\n\n  <!-- ------------------------------End Modal ---------------------------------------->\n  \n\n  \n  \n  </div>\n  <table class=\"table table-striped\">\n    <thead>\n      <tr>\n        <th scope=\"col\">Subject Id</th>\n        <th scope=\"col\">Subject</th>\n        <th scope=\"col\">Edit</th>\n\n     \n        <th scope=\"col\">Delete</th>\n        \n      </tr>\n    </thead>\n    <tbody *ngFor=\"let sub of subjects\">\n       \n      <tr >\n       \n         <th scope=\"row\">{{sub.subId}}</th>\n\n       \n        <td>{{sub.subName}}</td>\n        <td><button type=\"submit\" class=\"btn btn-warning\" data-toggle=\"modal\" [attr.data-target]=\"'#' + sub.subId\"><i class=\"fas fas fa-marker\" style=\"color: #0a0a0a;\"></i></button></td>\n           <!-- -------------------------------- Edit Subject Modal ------------------------------->\n\n  <div class=\"modal fade\" [id]=sub.subId tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <form   (ngSubmit)=\"edit(sub.subId)\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLongTitle\"><b>Edit your new subject!!!</b> <span> &nbsp;<i class=\"fas fas fa-chalkboard\" style=\"color: #0b29ab;\"></i></span></h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n            \n                <div class=\"form-outline mb-2\">\n                    <input [(ngModel)]=\"name\" name=\"name\" class=\"form-control form-control\" type=\"text\" value=\"{{sub.subName}}\"  autocomplete=\"off\" aria-required/>\n                    <label class=\"form-label\">Subject Name</label>\n                  </div>\n                  <!-- <div class=\"pt-1 mb-4\">\n                    <button type=\"submit\" class=\"btn btn-warning\">Add</button>\n                  </div>\n                  </form> -->\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-warning\" data-dismiss=\"modal\">Close</button>\n          <button type=\"submit\" class=\"btn btn-secondary\">Edit</button>\n        </div>\n    </form>\n      </div>\n    </div>\n  </div>\n\n  <!-- ------------------------------End Modal ---------------------------------------->\n  \n        <td><button type=\"submit\" class=\"btn btn-danger\" data-toggle=\"modal\" [attr.data-target]=\"'#' + sub.subName\"><i class=\"fas fas fa-trash\" style=\"color: #0a0a0a;\"></i></button></td>\n        <!-- -------------------------------- Delete Subject Modal ------------------------------->\n\n  <div class=\"modal fade\" [id]=sub.subName tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        \n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLongTitle\"><b>Are you sure ?</b> <span> &nbsp;<i class=\"fas fas fa-chalkboard\" style=\"color: #0b29ab;\"></i></span></h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        \n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-warning\" data-dismiss=\"modal\">Close</button>\n          <button type=\"submit\" class=\"btn btn-danger\" (click)=\"delete(sub.subId)\">Delete</button>\n        </div>\n \n      </div>\n    </div>\n  </div>\n\n  <!-- ------------------------------End Modal ---------------------------------------->\n        \n       \n      </tr>\n      <!-- </div> -->\n     \n    </tbody>\n  </table>\n\n\n  \n\n  \n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}